{
  "hash": "c4e65f60147d3fbceb0c715622277b45",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Sesi√≥n 1: Introducci√≥n a R y Estad√≠stica Descriptiva (I)\"\nsubtitle: \"Taller de M√©todos y T√©cnicas de Investigaci√≥n I [BORRADOR]\"\ndate: \"2025-10-21\"\nformat:\n  html:\n    code-fold: false\n    code-tools: true\n    toc: true\n    toc-depth: 3\n---\n\n\n\n\n## Objetivos de la sesi√≥n\n\nAl finalizar esta sesi√≥n ser√°s capaz de:\n\n- Navegar en la interfaz de RStudio\n- Obtener conocimientos b√°sicos sobre R y su l√≥gica de programaci√≥n\n- Crear y manipular objetos b√°sicos en R (vectores, dataframes)\n- Importar datos, cargar paquetes, crear funciones de usuario\n- Calcular medidas de tendencia central\n- Crear tablas de frecuencia simples y de contingencia\n\n---\n\n## 1. Introducci√≥n a R y RStudio\n\n### ¬øQu√© es R?\n\nR es un lenguaje de programaci√≥n especializado en an√°lisis estad√≠stico y visualizaci√≥n de datos. Es:\n\n- **Gratuito y de c√≥digo abierto**\n- Se ha consolidado en las √∫ltimas d√©cadas como una herramienta de primer nivel para el an√°lisis estad√≠stico y programaci√≥n ([Fern√°ndez-Avil√©s y Montero, 2024](https://cdr-book.github.io/index.html))\n- **Potente** para an√°lisis estad√≠sticos complejos\n- **Vers√°til** con miles de paquetes disponibles\n- **Reproducible**: tu an√°lisis queda documentado en c√≥digo :)\n\n### La interfaz de RStudio\n\nRStudio tiene 4 paneles principales:\n\n1. **Editor** (arriba izquierda): Donde escribes tu c√≥digo en scripts\n2. **Consola** (abajo izquierda): Donde se ejecuta el c√≥digo y ves resultados\n3. **Environment** (arriba derecha): Muestra tus objetos/datos cargados\n4. **Files/Plots/Help** (abajo derecha): Archivos, gr√°ficos, ayuda\n\nEstos paneles se pueden modificar a comodidad, as√≠ como el theme del IDE, el tama√±o y fuente de la letra y c√≥digo, etc. Lo importante no es s√≥lo que aprendas a usar las herramientas que nos entrega RStudio, sino que tambi√©n lo hagas una herramienta propia para usar R de la manera m√°s c√≥moda posible. Al final, como R es un *lenguaje* de programaci√≥n, cada quien puede hablarlo como quiera, con sus ma√±as y pr√°cticas. \n\n::: {.callout-tip}\n## Consejo\nSiempre trabaja con **scripts** (archivos .R o .qmd) en lugar de escribir directo en la consola. As√≠ tu trabajo queda guardado y es reproducible.\n:::\n\nAntes de comenzar, cabe aclarar que iremos tratando de exponer el contenido de R no tanto en orden como si fuera solo un curso de R, sino que siguiendo la l√≥gica de un curso de metodolog√≠a. Para ello, tem√°ticamente, iremos avanzando en funci√≥n de los contenidos del programa y, *en virtud de ello*, veremos *c√≥mo hacer* esto en R. Ahora bien, no por ello no nos detendremos todo lo que necesiten en alg√∫n aspecto de R que quieran profundizar. Recuerden que este curso es para aportarles herramienrtas **metodol√≥gicas** para sus investigaciones de Mag√≠ster, para las que probablemente tengan que hacer un uso extensivo de R (incluso para investigaciones m√°s cualitativas). \n\n---\n\n## 2. Conceptos b√°sicos de R\n\nR, ante todo, es \"un sistema para **computaci√≥n estad√≠stica**: software de **an√°lisis de datos** y **lenguaje de programaci√≥n**\" ([Cano en Fern√°ndez-Avil√©s y Montero, 2024](https://cdr-book.github.io/ch-110003.html)). Es ampliamente utilizado en investigaci√≥n y docencia, pero tambi√©n ha tomado un lugar importante en la industria y el servicio p√∫blico. \n\nR naci√≥ como una adaptaci√≥n (en clave software libre y bajo la l√≥gica de programaci√≥n reproducible) del lenguaje S, complement√°ndolo con un excelente soporte para el uso estad√≠stico ([Wickham y Grolemund, 2023](https://es.r4ds.hadley.nz/01-intro.html)). R tiene una l√≥gica de programaci√≥n llamada Programaci√≥n Orientada a Objetos (OOP, por sus cifras en ingl√©s: *object-oriented programming*), el cual permite un polimorfismo muy √∫til y versatil para programaci√≥n estad√≠stica y que se relaciona con la *encapsulaci√≥n* de objetos ([Wickham, 2019](https://adv-r.hadley.nz/introduction.html)). M√°s all√° de tecnicismos, veremos todo esto en el curso, con ejemplos aplicados a sus investigaciones del Mag√≠ster.   \n\n### Preparaci√≥n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cargar librer√≠as necesarias\nlibrary(tidyverse)  # Para manipulaci√≥n de datos\nlibrary(psych)      # Para estad√≠stica descriptiva\nlibrary(sjmisc)     # Para explorar datos\nlibrary(haven)      # Para cargar archivos .dta o .sav\nlibrary(kableExtra) # Para presentacion de resultados\n\n# Configuraci√≥n\noptions(scipen = 999)  # Evitar notaci√≥n cient√≠fica\n```\n:::\n\n\n\n\n### Operaciones b√°sicas\n\nR funciona como una calculadora avanzada:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Operaciones aritm√©ticas\n5 + 3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\n10 - 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\n4 * 6\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 24\n```\n\n\n:::\n\n```{.r .cell-code}\n20 / 4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\n2^3  # Potencia\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n\n```{.r .cell-code}\n# R respeta el orden de operaciones\n(5 + 3) * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 16\n```\n\n\n:::\n:::\n\n\n\n\n### Crear objetos\n\nEn R guardamos informaci√≥n en **objetos** usando `<-`:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear un objeto num√©rico\nedad <- 25\nedad\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 25\n```\n\n\n:::\n\n```{.r .cell-code}\n# Crear un vector (secuencia de valores)\nedades <- c(23, 25, 28, 30, 22, 27)\nedades\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 23 25 28 30 22 27\n```\n\n\n:::\n\n```{.r .cell-code}\n# Operaciones con vectores\nmean(edades)    # Promedio\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 25.83333\n```\n\n\n:::\n\n```{.r .cell-code}\nlength(edades)  # Largo del vector\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-note}\n## Nota importante\nLos nombres de objetos:\n- Pueden contener letras, n√∫meros, `.` y `_`\n- NO pueden empezar con n√∫meros\n- R distingue entre may√∫sculas y min√∫sculas (`edad ‚â† Edad`), lo que se suele conocer como un lenguaje *key-sensitive*\n:::\n\n#### Crear objetos: vectores y matrices\n\nGuardar objetos tambi√©n nos permite hacer operaciones matem√°ticas m√°s complejas, por ejemplo para el uso de una calculadora de algebra lineal. Tambi√©n se pueden hacer simulaciones, con una distribuci√≥n deseada, para hacer m√°s interesante nuestras operaciones. Veamos primero la creaci√≥n de objetos y luego operaciones m√°s complejas\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a) Creaci√≥n de un vector de n√∫meros naturales del 1 al 8\nvector1 <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 25, 44, 36, 20, 50, 88)\nvector1\n##  [1]  1  2  3  4  5  6  7  8  9 11 25 44 36 20 50 88\n\n# b) Creaci√≥n de un vector con n√∫meros reales comprendidos entre 1 y 6\nset.seed(123)\nvector2 <- runif(60, 1, 6)\nvector2\n##  [1] 2.437888 4.941526 3.044885 5.415087 5.702336 1.227782 3.640527 5.462095\n##  [9] 3.757175 3.283074 5.784167 3.266671 4.387853 3.863167 1.514623 5.499125\n## [17] 2.230439 1.210298 2.639604 5.772518 5.447697 4.464017 4.202534 5.971349\n## [25] 4.278529 4.542652 3.720330 3.970710 2.445799 1.735568 5.815121 5.511495\n## [33] 4.453526 4.977337 1.123068 3.388980 4.792298 2.082040 2.590905 2.158129\n## [41] 1.714000 3.072732 3.068622 2.844227 1.762224 1.694030 2.165170 3.329812\n## [49] 2.329863 5.289139 1.229156 3.211000 4.994624 1.609496 3.804740 2.032657\n## [57] 1.637658 4.766539 5.475227 2.872314\n\n# c) Creaci√≥n de un vector con n√∫meros que provienen de una distribuci√≥n normal\nvector3 <- rnorm(30, 0, 2)\nvector3\n##  [1]  0.85292844 -0.59014297  1.79025132  1.75626698  1.64316216  1.37728051\n##  [7]  1.10783531 -0.12382342 -0.61192533 -0.76094200 -1.38941396 -0.41583456\n## [13] -2.53079270  4.33791193  2.41592400 -2.24621717 -0.80576967 -0.93331071\n## [19]  1.55993024 -0.16673813  0.50663703 -0.05709351 -0.08574091  2.73720457\n## [25] -0.45154197  3.03294121 -3.09750561  1.16922750  0.24770849  0.43188314\n\n# d) Creaci√≥n de un vector con caracteres (letras)\nvector4 <- c(\"Lima\", \"Ucayali\", \"Loreto\", \"San Juan\", \"Pucallpa\")\nvector4\n## [1] \"Lima\"     \"Ucayali\"  \"Loreto\"   \"San Juan\" \"Pucallpa\"\n\n# e) Creaci√≥n de un vector que combine n√∫meros y texto\nvector5 <- c(\"rojo\", 3, \"Azul\", 7, \"morado\", 10)\nvector5\n## [1] \"rojo\"   \"3\"      \"Azul\"   \"7\"      \"morado\" \"10\"\n\n#OTRO CASOS CON VECTORES\n#a) Crea un vector con los primeros 20 n√∫meros pares.\nvector1 <- seq(2, 40, by = 2)\nvector1\n##  [1]  2  4  6  8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40\n\n#b) Simular 50 valores entre 5 y 15, pero solo n√∫meros enteros (valores repetidos).\nvector2 <- sample(5:15, 50, replace = TRUE)\nvector2\n##  [1] 11  7 11 10 14  9  9 12  7 14  6 14  6 14 10  8  5 10  7 12  7 12  5 11 15\n## [26] 11 11 14 10 11 15 14  9 10 12  9 11 15  8  7 13 11 10 14 13 11  6  7 12  8\n\n# Simular 50 valores entre 5 y 150, pero solo n√∫meros enteros (valores no repetidos).\nvector2 <- sample(5:150, 50, replace = FALSE)\nvector2\n##  [1] 115  43   5  34  98  20  92  58  24 108  97  56 112  26  46  63  88  15 125\n## [20]  59  12  50  89 113  70 111  81 129  74  76  48  36  40  49  18 145  91  37\n## [39]  44 138  14  93 121  86  13  11 105  62  65  78\n# Crear un vector con categor√≠as de satisfacci√≥n (Baja, Media, Alta) y convi√©rtelo en \n#factor ordenado.\nvector3 <- factor(sample(c(\"Baja\", \"Media\", \"Alta\"), 30, replace = TRUE), \n                  levels = c(\"Baja\", \"Media\", \"Alta\"), \n                  ordered = TRUE)\nvector3\n##  [1] Alta  Media Alta  Media Alta  Baja  Baja  Baja  Baja  Alta  Media Baja \n## [13] Media Baja  Alta  Alta  Baja  Media Alta  Baja  Alta  Media Baja  Baja \n## [25] Baja  Baja  Baja  Alta  Media Media\n## Levels: Baja < Media < Alta\n\n# Generar un vector con los primeros 15 valores de una progresi√≥n geom√©trica de raz√≥n 3.\nvector4 <- 2*(3/11)^(0:14)\nvector4\n##  [1] 2.00000000000000 0.54545454545455 0.14876033057851 0.04057099924869\n##  [5] 0.01106481797691 0.00301767763007 0.00082300299002 0.00022445536091\n##  [9] 0.00006121509843 0.00001669502684 0.00000455318914 0.00000124177886\n## [13] 0.00000033866696 0.00000009236372 0.00000002519010\n\n# Generar 100 valores de un proceso AR(1):\n#Xt=0.7Xt-1+et donde et~N(0,1)\nset.seed(123)\nvector5 <- numeric(100)\nvector5[1] <- rnorm(1)\nfor (t in 2:100) {\n  vector5[t] <- 0.7 * vector5[t-1] + rnorm(1)\n}\nvector5\n##   [1] -0.560475647 -0.622510442  1.122951005  0.856574095  0.728889601\n##   [6]  2.225287708  2.018617602  0.147971086 -0.583273091 -0.853953134\n##  [11]  0.626314604  0.798234050  0.959535285  0.782357416 -0.008190944\n##  [16]  1.781179476  1.744676112 -0.745343879  0.179615187 -0.347060777\n##  [21] -1.310766250 -1.135511290 -1.820862351 -2.003494875 -2.027485680\n##  [26] -3.105933287 -1.336366256 -0.782083262 -1.685595220  0.073898267\n##  [31]  0.478193008  0.039663623  0.922890197  1.524156625  1.888490719\n##  [36]  2.010583758  1.961326284  1.311016688  0.611749018  0.047753312\n##  [41] -0.661279661 -0.670813041 -1.734965480  0.954480129  1.876098089\n##  [46]  0.190160079 -0.269772780 -0.655496300  0.321117709  0.141413330\n##  [51]  0.352307845  0.218068736  0.109777658  1.445446645  0.786041666\n##  [56]  2.066699770 -0.102062965  0.513169674  0.483073016  0.554092680\n##  [61]  0.767504359  0.034929598 -0.308756665 -1.234705049 -1.936084761\n##  [66] -1.051730691 -0.288001705 -0.148596967  0.818249591  2.622859399\n##  [71]  1.344970414 -1.367689586  0.048355814 -0.675351693 -1.160754801\n##  [76]  0.213043009 -0.135642901 -1.315667743 -0.739663940 -0.656656121\n##  [81] -0.453895099  0.067553832 -0.323372349  0.418015904  0.072124571\n##  [86]  0.382269164  1.364427428  1.390280690  0.647264898  1.601893047\n##  [91]  2.114828989  2.028777252  1.658875811  0.533306992  1.733967343\n##  [96]  0.613517553  2.616795280  3.364367322  2.119356766  0.457128836\n\n#--Graficar la serie de tiempo\nplot.ts(vector5, col=\"#7F000D\", main=\"Proceso AR(1)\")\n```\n\n::: {.cell-output-display}\n![](01-intro_files/figure-html/algebra-lineal-objetos-1.png){width=672}\n:::\n:::\n\n\n\n\n¬øY si quisieramos operaciones con vectores? Hagamos un ejercicio. Sean los vectores $A$ y $B$, ambos con la misma cantidad de n√∫meros aleatorios. El vector $A$ contiene datos que provienen de una distribuci√≥n chi-cuadrada con 3 grados de libertad (gl), mientras que el vector $B$ contiene datos que provienen de una distribuci√≥n uniforme definida en el intervalo $[3, 5]$. Entonces, hallemos con R la soluci√≥n a los siguientes c√°lculos: \n\n1. $2A+5B$\n\n2. $\\sin(A)+\\cos(B)‚àí\\tan(A+B)$\n\n3. $\\sqrt[3]{A} + \\exp(B) - 4B^2$\n\n4. $\\log(A+1)+B^3-10 \\sqrt{B}$\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Definimos objetos para la creaci√≥n de los objetos seg√∫n instrucciones\nn=80\nA<-rchisq(n,3) # Distribuci√≥n Chi-Cuadrada con 3 gl\nB<-runif(n,3,5) # Distribuci√≥n uniforme [3,5]\n\n# Hallar los siguientes c√°lculos:\n#1) 2A+5B\nR1 <- 2*A + 5*B\nR1\n##  [1] 19.69210 23.03420 26.69313 25.70334 28.35293 26.64890 24.68047 28.09814\n##  [9] 19.37783 27.30493 19.08945 26.21774 21.28977 21.04553 19.67761 29.61104\n## [17] 30.46180 22.50579 29.14007 28.82716 37.59187 23.24578 20.10291 26.05125\n## [25] 21.31597 28.21674 27.54909 28.87870 22.17543 26.48466 32.92355 22.76607\n## [33] 23.45849 19.91794 32.04690 22.38126 22.65389 34.35684 24.66019 21.24424\n## [41] 20.95409 24.56103 19.48345 32.42303 23.86838 27.14611 24.88628 25.74374\n## [49] 23.17346 36.48939 22.85570 29.78744 18.20893 27.98537 19.52830 24.42174\n## [57] 20.80129 25.62571 33.99841 20.50393 23.86187 24.03436 26.62792 30.83077\n## [65] 36.04283 17.73191 35.57557 28.77954 16.43000 25.45428 35.16100 26.46746\n## [73] 24.87297 23.24329 20.85788 22.64388 31.20013 19.58654 24.27057 19.14470\n\n#2) sin(A)+cos(B)‚àítan(A+B)\nR2 <- sin(A) + cos(B) - tan(A + B)\nR2\n##  [1]  -3.69871781   0.52932773  -0.14649449   1.44602908   0.54403329\n##  [6]  -1.55641966  -1.55866936   0.99389017  -4.40833050  -2.08558457\n## [11] 128.22307375  -1.87754483  -0.05757828   0.73500217  -4.53203936\n## [16]  -0.27794495   0.18359820  -0.74062578  -2.06599699 -15.61964420\n## [21]   1.36081585  -1.65275479  -4.32443745   0.24815190  -8.00620676\n## [26]  -0.66222329  -0.68928017  -0.99627362   0.15563453   1.24336597\n## [31]  -1.17243861 -13.95459475  -1.81618294   2.53138309   0.83183601\n## [36]   1.51603274   1.42600605  -0.03628195   0.63919508   1.52939188\n## [41]   1.56304102   1.29568028  -3.20067386  -0.94459629  -2.91566325\n## [46]   0.52023905  -0.82360904   0.98140771   2.77398261   0.20811657\n## [51]   3.15124846  -1.54676948  -1.51491217  -2.06577654 -10.66771053\n## [56]   2.12058688   3.77380148   0.65734503  -1.12366287   1.03422297\n## [61]  -2.55867067   1.58528319  -4.20732464   0.99172732  -2.79511002\n## [66]  -1.75380189   1.05139758 -15.01869886  -1.04601754   2.21332123\n## [71]  -0.11138087  -0.59958851   1.09408425  20.66156069   6.44208116\n## [76]   0.71104716  -1.59454903   2.76693085  -0.76535693  -5.73788804\n\n#3) raiz_c√∫bica(A) + exp(B) - 4B^2\nR3 <- A^(1/3) + exp(B) - 4*B^2\nR3\n##  [1] -14.255620 -12.110377 -14.713197  24.448582  40.082941  -4.685214\n##  [7] -13.257257  48.844148 -15.023519  -1.559712 -15.297013  -8.502851\n## [13] -15.042858 -15.122710 -14.516771  -3.273798   8.692007 -14.985719\n## [19]  25.424846   6.314224  12.115420 -14.949348 -13.220614   2.938968\n## [25]  -7.457513 -12.623203 -14.258828 -14.402407 -14.672829  28.812485\n## [31]  18.051722   9.275726 -14.927720 -15.235218  44.648938 -10.779485\n## [37]  -9.764369 -14.347868  -3.604389 -14.440643 -14.846226   4.307060\n## [43] -14.553812  17.838086 -14.830561  18.948512 -10.807368  10.826627\n## [49]   1.652100  -9.591720  -1.063778 -13.970162 -15.364066   5.902215\n## [55] -15.122612  17.489365 -14.008778   4.131836  36.721962 -15.157534\n## [61] -14.901083   3.105458 -10.625458  20.931845  44.227299 -15.332014\n## [67]  -9.074260   5.658878 -15.739576  47.537372 -13.786626 -14.475961\n## [73]   3.919048  13.808245 -13.182624 -12.680460 -13.551670 -15.134584\n## [79] -12.550918 -15.319228\n\n#4) log(A+1)+B^3-10raiz(B)\nR4 <- log(A + 1) + B^3 - 10*sqrt(B)\nR4\n##  [1]  28.49843  35.54705  20.20142  84.47064  97.01486  51.37850  31.29607\n##  [8] 103.09007  23.84246  56.29000  16.25668  44.25693  16.14260  19.61268\n## [15]  27.11649  53.66290  69.41751  20.07700  85.58413  66.64177  73.27157\n## [22]  19.07572  32.60644  62.42528  46.62661  33.17041  25.32883  14.64705\n## [29]  24.48755  88.19187  79.11806  69.75788  19.55993  17.32759 100.53653\n## [36]  39.30442  41.70714  20.98362  53.15140  26.61957  23.86616  64.07605\n## [43]  27.05512  78.89942  16.14349  79.69590  38.98565  71.55383  60.66658\n## [50]  41.35389  56.95591  11.82915  22.39737  66.13017  22.62734  78.09871\n## [57]  29.10722  63.90620  94.87808  16.92526  18.02416  62.56160  39.31798\n## [64]  81.71854 100.42864  13.96516  42.61457  65.86200  14.40384 101.84851\n## [71]  26.66225  14.02985  63.61271  74.47058  32.46619  33.79005  28.79113\n## [78]  14.83907  33.95460  20.25958\n```\n:::\n\n\n\n\n¬°¬°¬ø¬ø¬øY matrices??!! Podemos hacerlo de distintas maneras: \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1Ô∏è‚É£ Declaraci√≥n de Matrices en R (Forma Manual))\nA <- matrix(c(6,5,4,1.2,6,4,7,7,8,2.5,1.15,6,4,5,7,3), nrow=4, byrow=TRUE)\nA\n##      [,1] [,2] [,3] [,4]\n## [1,]    6  5.0 4.00  1.2\n## [2,]    6  4.0 7.00  7.0\n## [3,]    8  2.5 1.15  6.0\n## [4,]    4  5.0 7.00  3.0\n\nB <- matrix(c(5, sqrt(7), exp(2), 7, -1/7, 6), nrow=2, byrow=TRUE)\nB\n##      [,1]       [,2]     [,3]\n## [1,]    5  2.6457513 7.389056\n## [2,]    7 -0.1428571 6.000000\n\n\n\n#2Ô∏è‚É£ Declaraci√≥n de Matrices Aleatoriass\nA <- matrix(rnorm(36), nrow=6)  # 6√ó6 con distribuci√≥n normal est√°ndar\nA\n##             [,1]        [,2]        [,3]       [,4]        [,5]       [,6]\n## [1,]  0.09049665 -1.53290200  1.54758106  0.9625280  0.07455118 -0.2656516\n## [2,]  1.59850877 -0.52111732 -0.13315096  0.6843094  0.42816676  0.1181445\n## [3,] -0.08856511 -0.48987045 -1.75652740 -1.3952743  0.02467498  0.1340386\n## [4,]  1.08079950  0.04715443 -0.38877986  0.8496430 -1.66747510  0.2210195\n## [5,]  0.63075412  1.30019868  0.08920722 -0.4465572  0.73649596  1.6408462\n## [6,] -0.11363990  2.29307897  0.84501300  0.1748027  0.38602657 -0.2190504\n\nB <- matrix(runif(25, 7, 20), nrow=5)  # 5√ó5 con distribuci√≥n uniforme en [7,20]\nB\n##          [,1]      [,2]      [,3]      [,4]      [,5]\n## [1,] 14.36754 11.782647 19.705986  8.563083 18.626350\n## [2,] 13.37082 18.361349 14.575617  8.148723  7.415631\n## [3,] 18.42276  8.967396 13.845671 18.449933 10.083986\n## [4,] 17.56708 10.663552  7.790169 13.608818 15.924375\n## [5,] 18.10330 15.667167 19.597505 11.387435  9.935640\n\nC <- diag(rnorm(16,6,1.75), nrow=4)  # 4√ó4 con valores en la diagonal\nC\n##          [,1]     [,2]     [,3]     [,4]\n## [1,] 5.174153 0.000000 0.000000 0.000000\n## [2,] 0.000000 7.481793 0.000000 0.000000\n## [3,] 0.000000 0.000000 7.620099 0.000000\n## [4,] 0.000000 0.000000 0.000000 5.438546\n\n\nD <- diag(1, nrow=5)  # Matriz identidad de orden 5\nD\n##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    1    0    0    0    0\n## [2,]    0    1    0    0    0\n## [3,]    0    0    1    0    0\n## [4,]    0    0    0    1    0\n## [5,]    0    0    0    0    1\n\nE <- diag(0, nrow=5)  # Matriz nula de orden 5\nE\n##      [,1] [,2] [,3] [,4] [,5]\n## [1,]    0    0    0    0    0\n## [2,]    0    0    0    0    0\n## [3,]    0    0    0    0    0\n## [4,]    0    0    0    0    0\n## [5,]    0    0    0    0    0\n\nG <- diag(rnorm(5))  # Matriz diagonal\nG[upper.tri(G)] <- rnorm(5)  # Convertir en matriz triangular superior\nG\n##          [,1]      [,2]       [,3]      [,4]       [,5]\n## [1,] -0.77225 0.3206011 -1.3697758 1.3855455 -1.3697758\n## [2,]  0.00000 0.6809156  0.2912297 0.1690452  0.2912297\n## [3,]  0.00000 0.0000000 -0.2075835 0.3206011  1.3855455\n## [4,]  0.00000 0.0000000  0.0000000 0.8374265  0.1690452\n## [5,]  0.00000 0.0000000  0.0000000 0.0000000 -0.2918737\n\nG <- diag(rnorm(5))\nG[lower.tri(G)] <- rnorm(5)  # Convertir en matriz triangular inferior\nG\n##             [,1]       [,2]        [,3]       [,4]      [,5]\n## [1,]  1.06892128  0.0000000  0.00000000  0.0000000 0.0000000\n## [2,] -1.43983706 -1.5858892  0.00000000  0.0000000 0.0000000\n## [3,] -1.00616615 -0.5739455 -0.38385009  0.0000000 0.0000000\n## [4,] -0.94035503 -1.4398371 -0.94035503  0.8648344 0.0000000\n## [5,]  0.05345133 -1.0061661  0.05345133 -0.5739455 0.5612503\n```\n:::\n\n\n\n\n\nCon ello, podemos hacer las siguiente operaciones: \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#3Ô∏è‚É£ Transpuesta de una Matriz\nA <- matrix(rnorm(36,3,0.2), nrow=9)\nA\n##           [,1]     [,2]     [,3]     [,4]\n##  [1,] 3.044110 2.784029 3.010454 2.600387\n##  [2,] 2.833097 3.041931 3.122176 3.229956\n##  [3,] 2.973929 2.739416 2.941241 3.287172\n##  [4,] 3.113466 2.926038 2.464057 2.904112\n##  [5,] 3.241693 2.871413 2.752431 3.457821\n##  [6,] 3.025444 3.218233 3.115314 2.392444\n##  [7,] 2.809718 3.067319 3.227178 2.791295\n##  [8,] 2.867497 2.937034 3.138828 3.049301\n##  [9,] 3.068919 2.964186 3.057314 3.014013\nt(A)  # Transpuesta\n##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]     [,7]     [,8]\n## [1,] 3.044110 2.833097 2.973929 3.113466 3.241693 3.025444 2.809718 2.867497\n## [2,] 2.784029 3.041931 2.739416 2.926038 2.871413 3.218233 3.067319 2.937034\n## [3,] 3.010454 3.122176 2.941241 2.464057 2.752431 3.115314 3.227178 3.138828\n## [4,] 2.600387 3.229956 3.287172 2.904112 3.457821 2.392444 2.791295 3.049301\n##          [,9]\n## [1,] 3.068919\n## [2,] 2.964186\n## [3,] 3.057314\n## [4,] 3.014013\n\n#4Ô∏è‚É£ Traza de una Matriz\nA <- matrix(rnorm(25), nrow=5)\nA\n##             [,1]        [,2]       [,3]        [,4]        [,5]\n## [1,] -1.48378791  1.21791351 -0.2216759 -0.23457505 -2.07988119\n## [2,]  1.63172709 -0.82832296  0.3945915  0.87279300  1.37395794\n## [3,] -0.67635833 -0.71812572  0.8894268  0.91333624  0.10681370\n## [4,] -1.46375788 -0.04448748  0.8687173  0.39722919 -0.02650367\n## [5,] -0.02547748 -1.06184814 -0.6720418 -0.09698557 -0.23364408\ntraza <- sum(diag(A))\npaste(\"La traza es:\", traza)\n## [1] \"La traza es: -1.25909891680289\"\n\n\n#5Ô∏è‚É£ Suma de Matrices\nA <- matrix(rnorm(30), nrow=6)\nB <- matrix(rnorm(30,5,2), nrow=6)\nA + B  # Suma de matrices\n##          [,1]     [,2]     [,3]     [,4]      [,5]\n## [1,] 2.070677 5.674789 7.332295 5.819102 4.4218596\n## [2,] 6.797006 3.600217 5.282065 6.588906 5.2436218\n## [3,] 1.209273 6.333353 6.720439 4.798674 0.9434001\n## [4,] 3.167788 4.815598 2.326593 5.370866 2.3541586\n## [5,] 5.640490 4.864771 4.099813 5.846048 5.9530386\n## [6,] 2.535960 5.828734 7.136285 4.246691 8.3280428\n\n#6Ô∏è‚É£ Producto de un Escalar por una Matriz\nC <- matrix(rnorm(40,6,1), nrow=8)\nsqrt(7) * C  # Producto con un escalar\n##          [,1]     [,2]     [,3]     [,4]     [,5]\n## [1,] 16.08303 16.51992 14.51782 16.33740 17.35173\n## [2,] 14.63379 13.22912 13.19817 12.72343 16.73229\n## [3,] 11.30045 18.89441 11.35979 15.73099 17.72055\n## [4,] 18.69264 10.62822 20.58891 11.41730 13.16903\n## [5,] 17.14521 15.80967 11.78878 14.24842 15.42931\n## [6,] 16.23830 15.32379 15.38026 16.84572 13.86509\n## [7,] 17.96189 13.26302 15.53936  9.37299 15.20537\n## [8,] 13.68626 14.79632 13.01599 15.33389 18.39506\n\nA <- matrix(runif(42), nrow=7)\nB <- matrix(runif(42,4,6), nrow=7)\nP <- 2.35 * A + log(13) * B  # Combinaci√≥n lineal de matrices\nP\n##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]\n## [1,] 13.47663 14.25929 13.82812 15.09279 11.70540 14.59548\n## [2,] 16.20203 11.45008 13.54358 11.80367 16.62356 13.79231\n## [3,] 14.20694 16.52816 12.86935 12.91500 14.21301 13.11315\n## [4,] 13.24659 16.04601 13.68651 14.02032 14.93595 11.70117\n## [5,] 14.32942 14.05038 13.32676 12.03458 15.91931 12.76438\n## [6,] 11.88001 15.53602 13.05379 14.84587 15.30746 13.39807\n## [7,] 12.65452 15.92107 15.43912 14.99238 15.64276 13.27560\n\n#7Ô∏è‚É£ Multiplicaci√≥n de Matrices\nA <- matrix(runif(30,1,3), nrow=5)  # 5√ó6\nB <- matrix(runif(30,2,9), nrow=6)  # 6√ó5\nA %*% B  # Producto de matrices\n##          [,1]     [,2]     [,3]     [,4]     [,5]\n## [1,] 54.75619 57.04299 58.38904 74.89661 63.80753\n## [2,] 53.03199 58.17523 48.83200 69.80488 62.63474\n## [3,] 64.24920 67.36303 54.95997 81.96668 71.76121\n## [4,] 69.21387 74.19012 57.16532 87.87814 74.00812\n## [5,] 61.88446 62.14712 57.98378 82.12525 65.21642\n(1/2*A) %*% (exp(3)*B)\n##          [,1]     [,2]     [,3]     [,4]     [,5]\n## [1,] 549.9038 572.8696 586.3876 752.1693 640.8042\n## [2,] 532.5880 584.2404 490.4084 701.0343 629.0262\n## [3,] 645.2398 676.5113 551.9503 823.1724 720.6812\n## [4,] 695.0989 745.0742 574.0981 882.5398 743.2464\n## [5,] 621.4913 624.1292 582.3177 824.7649 654.9534\n(1/17*B) %*% (4*A)\n##           [,1]      [,2]      [,3]     [,4]     [,5]     [,6]\n## [1,] 13.736128 14.181174 13.613064 17.96612 17.19283 17.89083\n## [2,]  9.578455  9.874332  9.587239 11.66554 12.11357 11.81713\n## [3,] 10.883822 10.379757 10.621954 12.39297 13.08647 13.44568\n## [4,] 12.453547 13.984342 12.046658 13.62633 15.72787 15.56274\n## [5,]  9.962515 10.687997  9.492623 10.90207 12.46591 12.55654\n## [6,] 12.510982 12.982812 12.958671 15.35784 15.21049 15.20145\n\n#8Ô∏è‚É£ Determinante de una Matriz\nA <- matrix(runif(36,1,10), nrow=6)\nA\n##          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]\n## [1,] 4.648275 6.655643 9.270593 2.889983 1.652222 4.616325\n## [2,] 1.653687 3.954148 5.758889 4.382591 7.218909 6.837007\n## [3,] 9.583828 2.250185 4.347809 2.866289 3.582619 9.246752\n## [4,] 2.954654 9.231915 1.592275 5.133167 2.344712 2.949959\n## [5,] 4.650627 6.392044 8.689329 3.173520 9.751888 5.931990\n## [6,] 6.631015 7.746464 5.593702 2.068213 4.694630 7.480454\ndet(A)  # Determinante de la matriz\n## [1] 58219.58\n\n#9Ô∏è‚É£ Rango de una Matriz\nA <- matrix(runif(25,10,36), nrow=5)\nA\n##          [,1]     [,2]     [,3]     [,4]     [,5]\n## [1,] 20.32840 27.65459 30.50027 21.68470 12.85484\n## [2,] 12.44404 32.52092 28.01576 29.92033 35.18232\n## [3,] 26.50731 30.79213 25.45110 10.67854 20.01516\n## [4,] 10.06445 13.50991 13.22030 15.07446 32.32338\n## [5,] 15.47360 20.07495 24.43203 32.91210 33.07200\nqr(A)$rank  # Rango de la matriz\n## [1] 5\n\n\nB <- matrix(runif(28,9,100), nrow=7)\nB\n##          [,1]     [,2]     [,3]     [,4]\n## [1,] 53.50733 58.33913 43.77830 89.62371\n## [2,] 74.34635 46.90581 81.99863 95.83720\n## [3,] 53.29021 99.89832 27.01105 12.67465\n## [4,] 98.97251 32.26625 95.12238 53.91907\n## [5,] 14.89235 55.21669 40.45620 29.57180\n## [6,] 23.34731 16.18638 56.50657 87.15083\n## [7,] 80.46672 83.04382 19.16361 57.31515\nqr(B)$rank\n## [1] 4\n\n\n#üîü Inversa de una Matriz\nA <- matrix(runif(36,0,10), nrow=6)\nA\n##            [,1]      [,2]      [,3]      [,4]      [,5]      [,6]\n## [1,] 0.04638151 1.1067879 6.2490554 1.9071746 1.4377810 2.4872636\n## [2,] 2.77560080 7.0375381 4.4024185 7.2708647 8.6596708 6.1495395\n## [3,] 3.25203143 9.3902124 8.0134530 8.2669005 0.8256106 0.3175732\n## [4,] 5.88706277 3.1116902 2.7928381 5.1072108 2.4457068 1.4642354\n## [5,] 2.49684701 0.7849293 5.7071319 5.6772617 9.8154316 7.0307297\n## [6,] 0.43117281 3.2174409 0.4212801 0.0115582 5.7758128 0.6556071\ninv <- solve(A)  # Inversa de la matriz\ninv\n##            [,1]        [,2]        [,3]        [,4]        [,5]        [,6]\n## [1,]  0.1635868  0.03138115 -0.14644118  0.29197919 -0.14467915  0.05539374\n## [2,]  0.1412754  0.19436903 -0.06953814  0.03911732 -0.23043826  0.05839836\n## [3,]  0.1668564 -0.10402786  0.02702846  0.01917559  0.02043062  0.06773001\n## [4,] -0.3841904 -0.13172257  0.23361634 -0.17602226  0.29240060 -0.16263677\n## [5,] -0.1351900 -0.14342385  0.07646570 -0.05553539  0.16740642  0.14991882\n## [6,]  0.2896546  0.35819487 -0.25756590  0.09604393 -0.26706783 -0.15914120\nround(A %*% inv)  # Verificaci√≥n: debe aproximarse a la matriz identidad\n##      [,1] [,2] [,3] [,4] [,5] [,6]\n## [1,]    1    0    0    0    0    0\n## [2,]    0    1    0    0    0    0\n## [3,]    0    0    1    0    0    0\n## [4,]    0    0    0    1    0    0\n## [5,]    0    0    0    0    1    0\n## [6,]    0    0    0    0    0    1\n```\n:::\n\n\n\n\n\nIncluso podr√≠amos calcular MCO matricialmente^[La expresi√≥n $\\hat{\\beta} = (X^\\top X)^{-1} X^\\top y$ se puede demostrar, pero no es objeto de esta clase (ni curso)]. Solo tendr√≠amos que seguir la expresi√≥n que se obtiene al derivar los estimadores MCO con notaci√≥n matricial, es decir, \n$$\n\\hat{\\beta} = (X^\\top X)^{-1} X^\\top y\n$$\ndonde nuestra variable dependiente es un vector-columna de $n\\times 1$ dimensiones; los par√°metros $\\beta$ tambi√©n son un vector columna $k+1\\times 1$ dimensiones; las variables independientes son una matriz de $n\\times k+1$ dimensiones; y los residuos del modelo son de $n\\times 1$ dimensiones. De manera tal que se tiene \n$$\nY_{n\\times 1} = \\begin{bmatrix}\nY_1 \\\\\nY_2 \\\\\n\\vdots \\\\\nY_n\n\\end{bmatrix}, \\quad \nX_{n\\times (k+1)} =\n\\begin{bmatrix}\n1 & X_{11} & a_{12} & \\cdots & a_{1k} \\\\\n1 & X_{21} & a_{22} & \\cdots & a_{2k} \\\\\n\\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\\n1 & X_{n1} & a_{n2} & \\cdots & a_{nk}\n\\end{bmatrix},\n\\quad\n\\beta_{k+1\\times 1} =\n\\begin{bmatrix}\n\\beta_0 \\\\\n\\beta_1 \\\\\n\\vdots \\\\\n\\beta_k\n\\end{bmatrix}, \n\\quad\nU_{n\\times 1} =\n\\begin{bmatrix}\nU_1 \\\\\nU_2 \\\\\n\\vdots \\\\\nU_n\n\\end{bmatrix}\n$$\n\nSimulemos, entonces, un caso conocido: la ecuaci√≥n de Mincer. Un ejemplo relativamente b√°sico de esta ser√≠a el siguiente: \n$$\n\\ln \\text{salario}_i = \\ln \\beta_0 + \\beta_1 \\text{educ}_i +\\beta_2 \\text{exp}_i+\\beta_3 \\text{exp}_i^2+ \\beta_4 \\text{dummy-mujer}_i + u_i\n$$\ndonde la variable dependiente es salario del individuo $i$, a la cual se le aplica un logaritmo natural; $\\beta_0$ es el intercepto (salario de alguien sin educaci√≥n ni experiencia (ni mujer)); $\\text{educ}_i$ es la variable que registra los a√±os de escolaridad del individuo $i$; $\\text{exp}_i$ es la variable que contiene la experiencia laboral del individuo $i$; $\\text{dummy-mujer}_i$ es una variable que identifica si $i$ es mujer o no; y $u_i$ es el t√©rmino de error. Veamos c√≥mo podr√≠amos hacer esto en R con una simulaci√≥n: \n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# MCO \"a mano\" (solo betas) + comparaci√≥n con lm()\nset.seed(2025)\n\n# 1) Simulaci√≥n tipo Mincer\nn <- 1000\nesc   <- pmax(0, round(rnorm(n, 12, 2)))\nexp   <- pmax(0, round(rnorm(n, 15, 5)))\nmujer <- rbinom(n, 1, 0.45)\n\nb0 <- 1.5; b_esc <- 0.08; b_exp <- 0.10; b_exp2 <- -0.002; b_muj <- -0.20\neps <- rnorm(n, 0, 0.30)\ny <- b0 + b_esc*esc + b_exp*exp + b_exp2*(exp^2) + b_muj*mujer + eps  # log ingreso\n\n# 2) Matriz de dise√±o y vector\nX <- cbind(1, esc, exp, exp^2, mujer) # Matriz X\ncolnames(X) <- c(\"(Intercept)\", \"esc\", \"exp\", \"exp2\", \"mujer\")\n\n# 3) Betas por √°lgebra matricial:  Œ≤ÃÇ = (X'X)^(-1) X'y\nbeta_hat <- solve(t(X) %*% X) %*% (t(X) %*% y) \n\n# 4) Comparaci√≥n con lm()\nbeta_lm <- coef(lm(y ~ esc + exp + I(exp^2) + mujer))\n\n# 5) Mostrar lado a lado\nout <- cbind(beta_manual = as.numeric(beta_hat), beta_lm = as.numeric(beta_lm))\nrownames(out) <- colnames(X)\nround(out, 6)\n##             beta_manual   beta_lm\n## (Intercept)    1.497691  1.497691\n## esc            0.079347  0.079347\n## exp            0.104212  0.104212\n## exp2          -0.002206 -0.002206\n## mujer         -0.197648 -0.197648\n```\n:::\n\n\n\n\n\n### Tipos de datos\n\nNo obstante, para todo ello, ¬°hay que aprender R! Probablemente muchxs de ustedes ya saben algo de R. A su vez, si saben R pero no como derivar MCO no se preocupen, no es necesario saber esto para hacer una regresi√≥n en R. Es m√°s, como vieron, `lm()` que es la funci√≥n m√°s b√°sica para realizar regresiones lineales en R realiza la operaci√≥n matricial que hicimos en una sola l√≠nea de c√≥digo (`lm(y ~ esc + exp + I(exp^2) + mujer)`). Todo lo anterior, por tanto, fueron ejemplos de cosas que se pueden hacer en R, utiliz√°ndolo m√°s \"en bruto\" y para que puedan visualizar su potencial. \n\nPero volvamos a R. Los objetos de R tienen distintas \"clases\". Para efectos del curso, podemos pensar esto como la naturaleza de variables, i.e., como variables cuantitativas (discretas y continuas) y cualitativas (ordinales y nominales). Los objetos de R tienen categor√≠as similares. Pero tambi√©n tienen combinaciones, como los objetos `dbl+lbl`, que son num√©ricos y con etiquetas. Adicionalmente, tambi√©n podemos encontrar datos de tipo l√≥gico (`TRUE` y `FALSE`). \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Num√©rico\nnumero <- 42\nclass(numero)\n## [1] \"numeric\"\n\n# Car√°cter (texto)\nnombre <- \"Mar√≠a\"\nclass(nombre)\n## [1] \"character\"\n\n# L√≥gico\nes_estudiante <- TRUE\nclass(es_estudiante)\n## [1] \"logical\"\n\n# Factor (categor√≠as)\nnivel_educacion <- factor(c(\"B√°sica\", \"Media\", \"Superior\", \"Media\"))\nnivel_educacion\n## [1] B√°sica   Media    Superior Media   \n## Levels: B√°sica Media Superior\n```\n:::\n\n\n\n\n---\n\n## 3. Trabajar con DataFrames\n\nLos **dataframes** son tablas de datos, similares a hojas de Excel. Cada columna es una variable, cada fila es una observaci√≥n. Es en este formato en el que trabajaremos con bases de datos reales. \n\n### Crear un dataframe\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear un dataframe desde vectores\nestudiantes <- data.frame(\n  nombre = c(\"Ana\", \"Bruno\", \"Carla\", \"Diego\", \"Elena\"),\n  edad = c(23, 25, 24, 26, 23),\n  carrera = c(\"Sociolog√≠a\", \"Sociolog√≠a\", \"Antropolog√≠a\", \n              \"Sociolog√≠a\", \"Antropolog√≠a\"),\n  nota = c(6.5, 5.8, 6.9, 6.2, 7.0)\n)\n\n# Ver el dataframe\nestudiantes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  nombre edad      carrera nota\n1    Ana   23   Sociolog√≠a  6.5\n2  Bruno   25   Sociolog√≠a  5.8\n3  Carla   24 Antropolog√≠a  6.9\n4  Diego   26   Sociolog√≠a  6.2\n5  Elena   23 Antropolog√≠a  7.0\n```\n\n\n:::\n:::\n\n\n\n\nPero partamos inmediatamente con bases de datos reales. Tomemos la Encuesta Nacional de Empleo, realizada por el INE mes a mes y que agrupa datos trimestrales. Para ello, utilizaremos la funci√≥n `read.csv()`, del paquete `utils`, pues las bases de datos vienen en formato `.csv`. Una vez que cargamos los datos, exploraremos nuestra base de datos. No obstante, conviene saber antes que los archivos `.csv` son archivos de texto, que generalmente hay que especificar el delimitador que usa para separar las columnas (`;` o `,` com√∫nmente). \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndatos <- read.csv(\"data-sesiones/ene-2025-07-jja.csv\", # Ruta\n                  sep=\",\", # Delimitador\n                  encoding = \"UTF-8\" # UTF-8 o Latin-1\n                  )\n\nhead(datos) # UPS\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                                                                                                                                                                                                                                                                                                                                                                                                      ano_trimestre.mes_central.ano_encuesta.mes_encuesta.region.provincia.tipo.r_p_c.estrato.conglomerado.id_identificacion.hogar.idrph.nro_linea.proveedor.parentesco.sexo.edad.est_conyugal.mig1.mig2_cod.mig3_cod.mig4.mig5_cod.mig6_cod.nacionalidad.orig1. ...\n2025;7;2025;6;8;81;1;8111;8100212;35395;188791;1;853676467929;1;1;1;1;57;3;1;;;1;;;152;2;;;3;9;2;2;3;13;2;2;1;;1;;;;;;;7;2;;;2;;2;2;2;1;2;2;2;2;2;;1;1;;7;1;2;1;;88;2011;8;8111;1;2;2;;2;;;;1;1;2;0;;;;;2;2;2;2;2;2;;;;;8;5;40;;;;8;5;40;;;;;;2;;2;;;;;;;2;;;2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9;3;2;24;2;1;1;1;3;40;40;0;2;1;7;;0;;2;130                                                                                                                                                                                                                                                                                                                         126164801805\n2025;7;2025;6;8;81;1;8111;8100212;35395;188792;1;69857573301;2;0;4;1;23;2;1;;;1;;;152;2;;;4;4;1;2;4;8;1;2;1;;1;;;;;;;9;1;;2;;;;;;;;;;;;;2;;;19;1;1;5;;6;2024;8;8111;1;2;1;FACEBOOK;2;;;;;;;;2;;4;;2;2;2;2;2;2;;;;;8;4;32;;;;;;;;;;;;1;3;;;16;;3;5;15;1;1;2;1;0;0;0;1;0;0;0;0;0;0;0;;1;1;;;;;;;;3;;;;;;;;;;;;;;;;;2;3;2;24;2;1;1;1;2;32;35;0;2;2;19;;1;;2;120                                                                                                                                                                                                                                                                                                            770034305589\n2025;7;2025;6;8;81;1;8111;8100212;35395;188792;1;733202104071;4;1;1;2;54;2;1;;;1;;;152;2;;;5;5;1;2;5;9;1;2;1;;1;;;;;;;5;2;;;2;;1;1;1;1;1;1;88;1;2;;1;1;;7;2;9;1;;88;2010;8;8111;1;2;2;;2;;;;1;1;1;0;;;;;2;2;2;2;2;2;;;;;888;6;44;;;;888;6;44;;;;;;2;;2;;;;;;;2;;;2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8;3;2;25;2;1;1;1;3;44;44;0;1;1;7;;0;;2;117                                                                                                                                                                                                                                                                                                                     699995068579\n2025;7;2025;6;8;81;1;8111;8100212;35395;188792;1;974021027494;3;0;4;2;21;2;1;;;1;;;152;2;;;2;7;2;1;2;12;2;1;2;2;;;2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2;;;;;;;;;;;;;;;;;;;;;;;4;;;2;2;3;;1;12;2024;5;3;;;;;2;3;2;24;;3;9;15;0;;;;;;;0;;0;;120                                                                                                                                                                                                                                                                                                                                                                         145638363174\n2025;7;2025;6;8;81;1;8111;8100212;35395;188792;1;408193222712;1;0;3;1;55;2;2;7406;;1;;;152;2;;;2;4;2;2;2;8;2;2;2;2;;;2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2;;;;;;;;;;;;;;;;;;;;;;;22;NO PUDO RENOVAR LA LICENCIA DE CONDUCIR;;1;2;13;PARA RENOVAR LICENCIA DE CONDUCIR LE EXIGEN PAGAR LA PENSION DE ALIMENTOS;1;88;2024;1;1;6;;;;9;2;1;14;;3;9;28;0;;;;;;;0;;0;;130                                                                                                                                                                                                                                                   126164801805\n2025;7;2025;6;8;81;1;8111;8100212;35395;188793;1;439623161927;1;0;3;2;30;2;1;;;1;;;152;2;;;5;9;1;2;5;13;1;2;1;;1;;;;;;;2;2;;;1;;1;1;1;2;1;1;1;1;1;5;1;1;;16;5;;1;;9;2024;8;8111;1;2;2;;2;;;;1;1;1;0;;;;;1;2;2;2;2;2;;;;;888;5;36;;;;888;5;36;;;;;;2;;2;;;;2;2;4;1;1;1;2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4;4;4;46;2;1;1;1;4;36;36;0;1;1;16;;0;;1;141                                                                                                                                                                                                                                                                                                               845401035688\n```\n\n\n:::\n\n```{.r .cell-code}\ndatos <- read.csv(\"data-sesiones/ene-2025-07-jja.csv\", # Ruta\n                  sep=\";\", # Delimitador\n                  encoding = \"Latin-1\", # UTF-8 o Latin-1\n                  stringsAsFactors = F # character to factor\n                  ) \n\nhead(datos) # :D\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  ano_trimestre mes_central ano_encuesta mes_encuesta region provincia tipo\n1          2025           7         2025            6      8        81    1\n2          2025           7         2025            6      8        81    1\n3          2025           7         2025            6      8        81    1\n4          2025           7         2025            6      8        81    1\n5          2025           7         2025            6      8        81    1\n6          2025           7         2025            6      8        81    1\n  r_p_c estrato conglomerado id_identificacion hogar        idrph nro_linea\n1  8111 8100212        35395            188791     1 853676467929         1\n2  8111 8100212        35395            188792     1  69857573301         2\n3  8111 8100212        35395            188792     1 733202104071         4\n4  8111 8100212        35395            188792     1 974021027494         3\n5  8111 8100212        35395            188792     1 408193222712         1\n6  8111 8100212        35395            188793     1 439623161927         1\n  proveedor parentesco sexo edad est_conyugal mig1 mig2_cod mig3_cod mig4\n1         1          1    1   57            3    1       NA       NA    1\n2         0          4    1   23            2    1       NA       NA    1\n3         1          1    2   54            2    1       NA       NA    1\n4         0          4    2   21            2    1       NA       NA    1\n5         0          3    1   55            2    2     7406       NA    1\n6         0          3    2   30            2    1       NA       NA    1\n  mig5_cod mig6_cod nacionalidad orig1 orig2 orig3 curso nivel termino_nivel\n1       NA       NA          152     2    NA           3     9             2\n2       NA       NA          152     2    NA           4     4             1\n3       NA       NA          152     2    NA           5     5             1\n4       NA       NA          152     2    NA           2     7             2\n5       NA       NA          152     2    NA           2     4             2\n6       NA       NA          152     2    NA           5     9             1\n  estudia_actual edu1 edu2 edu3 edu4 a1 a2 a3 a4 a5 a6 a6_otro a7 a8 b1 b2 b3\n1              2    3   13    2    2  1 NA  1 NA NA NA         NA NA  7  2 NA\n2              2    4    8    1    2  1 NA  1 NA NA NA         NA NA  9  1 NA\n3              2    5    9    1    2  1 NA  1 NA NA NA         NA NA  5  2 NA\n4              1    2   12    2    1  2  2 NA NA  2 NA         NA NA NA NA NA\n5              2    2    8    2    2  2  2 NA NA  2 NA         NA NA NA NA NA\n6              2    5   13    1    2  1 NA  1 NA NA NA         NA NA  2  2 NA\n  b4 b5 b6 b7a_1 b7a_2 b7a_3 b7b_1 b7b_2 b7b_3 b7b_4 b8 b9 b10 b11_proxy b12\n1 NA  2 NA     2     2     2     1     2     2     2  2  2  NA         1   1\n2  2 NA NA    NA    NA    NA    NA    NA    NA    NA NA NA  NA         2  NA\n3 NA  2 NA     1     1     1     1     1     1    88  1  2  NA         1   1\n4 NA NA NA    NA    NA    NA    NA    NA    NA    NA NA NA  NA        NA  NA\n5 NA NA NA    NA    NA    NA    NA    NA    NA    NA NA NA  NA        NA  NA\n6 NA  1 NA     1     1     1     2     1     1     1  1  1   5         1   1\n  b13_rev4cl_caenes b14_rev4cl_caenes b15_1 b15_2 b16 b16_otro b17_mes b17_ano\n1                NA                 7     1     2   1               88    2011\n2                NA                19     1     1   5                6    2024\n3                NA                 7     2     9   1               88    2010\n4                NA                NA    NA    NA  NA               NA      NA\n5                NA                NA    NA    NA  NA               NA      NA\n6                NA                16     5    NA   1                9    2024\n  b18_region b18_codigo b18_varias ocup_honorarios plataformas_digitales\n1          8       8111          1               2                     2\n2          8       8111          1               2                     1\n3          8       8111          1               2                     2\n4         NA         NA         NA              NA                    NA\n5         NA         NA         NA              NA                    NA\n6          8       8111          1               2                     2\n  pd_especifique b19 dependencia_segunda sda_pd sda_pd_especifique i1 i2 i3\n1                  2                  NA     NA                     1  1  2\n2       FACEBOOK   2                  NA     NA                    NA NA NA\n3                  2                  NA     NA                     1  1  1\n4                 NA                  NA     NA                    NA NA NA\n5                 NA                  NA     NA                    NA NA NA\n6                  2                  NA     NA                     1  1  1\n  i3_v i4 i5 i6 i7 f7a f7b f7c f7d f7e turno turno_d turno_de turno_h turno_t\n1    0 NA NA NA NA   2   2   2   2   2     2      NA       NA      NA      NA\n2   NA  2 NA  4 NA   2   2   2   2   2     2      NA       NA      NA      NA\n3    0 NA NA NA NA   2   2   2   2   2     2      NA       NA      NA      NA\n4   NA NA NA NA NA  NA  NA  NA  NA  NA    NA      NA       NA      NA      NA\n5   NA NA NA NA NA  NA  NA  NA  NA  NA    NA      NA       NA      NA      NA\n6    0 NA NA NA NA   1   2   2   2   2     2      NA       NA      NA      NA\n  c2_1_1 c2_1_2 c2_1_3 c2_2_1 c2_2_2 c2_2_3 c3_1 c3_2 c3_3 turno_cont_d\n1      8      5     40     NA     NA     NA    8    5   40           NA\n2      8      4     32     NA     NA     NA   NA   NA   NA           NA\n3    888      6     44     NA     NA     NA  888    6   44           NA\n4     NA     NA     NA     NA     NA     NA   NA   NA   NA           NA\n5     NA     NA     NA     NA     NA     NA   NA   NA   NA           NA\n6    888      5     36     NA     NA     NA  888    5   36           NA\n  turno_cont_de turno_cont_h turno_cont_t c4 c5 c6 c7 c8 c9 c9_otro\n1            NA           NA           NA NA  2 NA  2 NA NA        \n2            NA           NA           NA NA  1  3 NA NA 16        \n3            NA           NA           NA NA  2 NA  2 NA NA        \n4            NA           NA           NA NA NA NA NA NA NA        \n5            NA           NA           NA NA NA NA NA NA NA        \n6            NA           NA           NA NA  2 NA  2 NA NA        \n  adicionales_h adicionales_d adicionales_t c10 c11 c12 e2 e3_1 e3_2 e3_3 e3_4\n1            NA            NA            NA   2  NA  NA  2   NA   NA   NA   NA\n2             3             5            15   1   1   2  1    0    0    0    1\n3            NA            NA            NA   2  NA  NA  2   NA   NA   NA   NA\n4            NA            NA            NA  NA  NA  NA  2   NA   NA   NA   NA\n5            NA            NA            NA  NA  NA  NA  2   NA   NA   NA   NA\n6             2             2             4   1   1   1  2   NA   NA   NA   NA\n  e3_5 e3_6 e3_7 e3_8 e3_9 e3_10 e3_11 e3_12 e3_total e4 e5 e5_dia e5_sem\n1   NA   NA   NA   NA   NA    NA    NA    NA       NA NA NA     NA     NA\n2    0    0    0    0    0     0     0    NA        1  1 NA     NA     NA\n3   NA   NA   NA   NA   NA    NA    NA    NA       NA NA NA     NA     NA\n4   NA   NA   NA   NA   NA    NA    NA    NA       NA NA NA     NA     NA\n5   NA   NA   NA   NA   NA    NA    NA    NA       NA NA NA     NA     NA\n6   NA   NA   NA   NA   NA    NA    NA    NA       NA NA NA     NA     NA\n  e5_mes e5_ano e6_mes e6_ano e7 e9                                 e9_otro e10\n1     NA     NA     NA     NA NA NA                                          NA\n2     NA     NA     NA     NA  3 NA                                          NA\n3     NA     NA     NA     NA NA NA                                          NA\n4     NA     NA     NA     NA NA  4                                          NA\n5     NA     NA     NA     NA NA 22 NO PUDO RENOVAR LA LICENCIA DE CONDUCIR  NA\n6     NA     NA     NA     NA NA NA                                          NA\n  deseo_trabajar e11 e12\n1             NA  NA  NA\n2             NA  NA  NA\n3             NA  NA  NA\n4              2   2   3\n5              1   2  13\n6             NA  NA  NA\n                                                                   e12_otro e13\n1                                                                            NA\n2                                                                            NA\n3                                                                            NA\n4                                                                             1\n5 PARA RENOVAR LICENCIA DE CONDUCIR LE EXIGEN PAGAR LA PENSION DE ALIMENTOS   1\n6                                                                            NA\n  e21_mes e21_ano e21_tramo e22 e23 e23_otro e24 e24_otro tramo_edad cine97\n1      NA      NA        NA  NA  NA           NA                   9      3\n2      NA      NA        NA  NA  NA           NA                   2      3\n3      NA      NA        NA  NA  NA           NA                   8      3\n4      12    2024         5   3  NA           NA                   2      3\n5      88    2024         1   1   6           NA                   9      2\n6      NA      NA        NA  NA  NA           NA                   4      4\n  cine11_1d cine11_2d ina_cal_edu activ cae_general cae_especifico\n1         2        24           2     1           1              1\n2         2        24           2     1           1              1\n3         2        25           2     1           1              1\n4         2        24          NA     3           9             15\n5         1        14          NA     3           9             28\n6         4        46           2     1           1              1\n  categoria_ocupacion habituales efectivas tpi ocup_form sector\n1                   3         40        40   0         2      1\n2                   2         32        35   0         2      2\n3                   3         44        44   0         1      1\n4                   0         NA        NA  NA        NA     NA\n5                   0         NA        NA  NA        NA     NA\n6                   4         36        36   0         1      1\n  r_p_rev4cl_caenes ftp obe id asocia         fact_cal\n1                 7  NA   0 NA      2 130,126164801805\n2                19  NA   1 NA      2 120,770034305589\n3                 7  NA   0 NA      2 117,699995068579\n4                NA   0  NA  0     NA 120,145638363174\n5                NA   0  NA  0     NA 130,126164801805\n6                16  NA   0 NA      1 141,845401035688\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n### Explorar datos\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Estructura del dataframe\nstr(datos)\n## 'data.frame':\t98600 obs. of  185 variables:\n##  $ ano_trimestre        : int  2025 2025 2025 2025 2025 2025 2025 2025 2025 2025 ...\n##  $ mes_central          : int  7 7 7 7 7 7 7 7 7 7 ...\n##  $ ano_encuesta         : int  2025 2025 2025 2025 2025 2025 2025 2025 2025 2025 ...\n##  $ mes_encuesta         : int  6 6 6 6 6 6 6 6 6 6 ...\n##  $ region               : int  8 8 8 8 8 8 8 8 8 8 ...\n##  $ provincia            : int  81 81 81 81 81 81 81 81 81 81 ...\n##  $ tipo                 : int  1 1 1 1 1 1 1 1 1 1 ...\n##  $ r_p_c                : int  8111 8111 8111 8111 8111 8111 8111 8111 8111 8111 ...\n##  $ estrato              : int  8100212 8100212 8100212 8100212 8100212 8100212 8100212 8100212 8100212 8100212 ...\n##  $ conglomerado         : int  35395 35395 35395 35395 35395 35395 35395 35395 35395 35395 ...\n##  $ id_identificacion    : int  188791 188792 188792 188792 188792 188793 188793 188794 188796 188796 ...\n##  $ hogar                : int  1 1 1 1 1 1 1 1 1 1 ...\n##  $ idrph                : num  853676467929 69857573301 733202104071 974021027494 408193222712 ...\n##  $ nro_linea            : int  1 2 4 3 1 1 2 1 4 1 ...\n##  $ proveedor            : int  1 0 1 0 0 0 1 1 1 0 ...\n##  $ parentesco           : int  1 4 1 4 3 3 1 1 1 2 ...\n##  $ sexo                 : int  1 1 2 2 1 2 1 2 1 2 ...\n##  $ edad                 : int  57 23 54 21 55 30 31 70 52 46 ...\n##  $ est_conyugal         : int  3 2 2 2 2 2 2 3 1 1 ...\n##  $ mig1                 : int  1 1 1 1 2 1 1 2 1 1 ...\n##  $ mig2_cod             : int  NA NA NA NA 7406 NA NA 13101 NA NA ...\n##  $ mig3_cod             : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ mig4                 : int  1 1 1 1 1 1 1 1 1 2 ...\n##  $ mig5_cod             : int  NA NA NA NA NA NA NA NA NA 8107 ...\n##  $ mig6_cod             : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ nacionalidad         : int  152 152 152 152 152 152 152 152 152 152 ...\n##  $ orig1                : int  2 2 2 2 2 2 2 2 2 2 ...\n##  $ orig2                : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ orig3                : chr  \"\" \"\" \"\" \"\" ...\n##  $ curso                : int  3 4 5 2 2 5 6 2 4 4 ...\n##  $ nivel                : int  9 4 5 7 4 9 9 4 4 5 ...\n##  $ termino_nivel        : int  2 1 1 2 2 1 1 2 1 1 ...\n##  $ estudia_actual       : int  2 2 2 1 2 2 2 2 2 2 ...\n##  $ edu1                 : int  3 4 5 2 2 5 6 2 4 4 ...\n##  $ edu2                 : int  13 8 9 12 8 13 13 8 8 9 ...\n##  $ edu3                 : int  2 1 1 2 2 1 1 2 1 1 ...\n##  $ edu4                 : int  2 2 2 1 2 2 2 2 2 2 ...\n##  $ a1                   : int  1 1 1 2 2 1 1 2 2 2 ...\n##  $ a2                   : int  NA NA NA 2 2 NA NA 2 2 2 ...\n##  $ a3                   : int  1 1 1 NA NA 1 1 NA NA NA ...\n##  $ a4                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ a5                   : int  NA NA NA 2 2 NA NA 2 1 2 ...\n##  $ a6                   : int  NA NA NA NA NA NA NA NA 2 NA ...\n##  $ a6_otro              : chr  \"\" \"\" \"\" \"\" ...\n##  $ a7                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ a8                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ b1                   : int  7 9 5 NA NA 2 2 NA 5 NA ...\n##  $ b2                   : int  2 1 2 NA NA 2 2 NA 2 NA ...\n##  $ b3                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ b4                   : int  NA 2 NA NA NA NA NA NA NA NA ...\n##  $ b5                   : int  2 NA 2 NA NA 1 1 NA 2 NA ...\n##  $ b6                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ b7a_1                : int  2 NA 1 NA NA 1 77 NA 1 NA ...\n##  $ b7a_2                : int  2 NA 1 NA NA 1 77 NA 1 NA ...\n##  $ b7a_3                : int  2 NA 1 NA NA 1 77 NA 1 NA ...\n##  $ b7b_1                : int  1 NA 1 NA NA 2 77 NA 1 NA ...\n##  $ b7b_2                : int  2 NA 1 NA NA 1 77 NA 1 NA ...\n##  $ b7b_3                : int  2 NA 1 NA NA 1 77 NA 1 NA ...\n##  $ b7b_4                : int  2 NA 88 NA NA 1 77 NA 2 NA ...\n##  $ b8                   : int  2 NA 1 NA NA 1 1 NA 1 NA ...\n##  $ b9                   : int  2 NA 2 NA NA 1 1 NA 2 NA ...\n##  $ b10                  : int  NA NA NA NA NA 5 4 NA NA NA ...\n##  $ b11_proxy            : int  1 2 1 NA NA 1 1 NA 1 NA ...\n##  $ b12                  : int  1 NA 1 NA NA 1 1 NA 1 NA ...\n##  $ b13_rev4cl_caenes    : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ b14_rev4cl_caenes    : int  7 19 7 NA NA 16 15 NA 11 NA ...\n##  $ b15_1                : int  1 1 2 NA NA 5 5 NA 5 NA ...\n##  $ b15_2                : int  2 1 9 NA NA NA NA NA NA NA ...\n##  $ b16                  : int  1 5 1 NA NA 1 5 NA 1 NA ...\n##  $ b16_otro             : chr  \"\" \"\" \"\" \"\" ...\n##  $ b17_mes              : int  88 6 88 NA NA 9 1 NA 4 NA ...\n##  $ b17_ano              : int  2011 2024 2010 NA NA 2024 2025 NA 2012 NA ...\n##  $ b18_region           : int  8 8 8 NA NA 8 8 NA 8 NA ...\n##  $ b18_codigo           : int  8111 8111 8111 NA NA 8111 8111 NA 8110 NA ...\n##  $ b18_varias           : int  1 1 1 NA NA 1 1 NA 1 NA ...\n##  $ ocup_honorarios      : int  2 2 2 NA NA 2 1 NA 2 NA ...\n##  $ plataformas_digitales: int  2 1 2 NA NA 2 2 NA 2 NA ...\n##  $ pd_especifique       : chr  \"\" \"FACEBOOK\" \"\" \"\" ...\n##  $ b19                  : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ dependencia_segunda  : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ sda_pd               : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ sda_pd_especifique   : chr  \"\" \"\" \"\" \"\" ...\n##  $ i1                   : int  1 NA 1 NA NA 1 1 NA 1 NA ...\n##  $ i2                   : int  1 NA 1 NA NA 1 1 NA 1 NA ...\n##  $ i3                   : int  2 NA 1 NA NA 1 1 NA 1 NA ...\n##  $ i3_v                 : int  0 NA 0 NA NA 0 0 NA 0 NA ...\n##  $ i4                   : int  NA 2 NA NA NA NA NA NA NA NA ...\n##  $ i5                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ i6                   : int  NA 4 NA NA NA NA NA NA NA NA ...\n##  $ i7                   : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ f7a                  : int  2 2 2 NA NA 1 2 NA 1 NA ...\n##  $ f7b                  : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ f7c                  : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ f7d                  : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ f7e                  : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ turno                : int  2 2 2 NA NA 2 2 NA 2 NA ...\n##  $ turno_d              : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ turno_de             : int  NA NA NA NA NA NA NA NA NA NA ...\n##  $ turno_h              : int  NA NA NA NA NA NA NA NA NA NA ...\n##   [list output truncated]\n\n# Estructura con glimpse\nglimpse(datos)\n## Rows: 98,600\n## Columns: 185\n## $ ano_trimestre         <int> 2025, 2025, 2025, 2025, 2025, 2025, 2025, 2025, ‚Ä¶\n## $ mes_central           <int> 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, ‚Ä¶\n## $ ano_encuesta          <int> 2025, 2025, 2025, 2025, 2025, 2025, 2025, 2025, ‚Ä¶\n## $ mes_encuesta          <int> 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, ‚Ä¶\n## $ region                <int> 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, ‚Ä¶\n## $ provincia             <int> 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, 81, ‚Ä¶\n## $ tipo                  <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ‚Ä¶\n## $ r_p_c                 <int> 8111, 8111, 8111, 8111, 8111, 8111, 8111, 8111, ‚Ä¶\n## $ estrato               <int> 8100212, 8100212, 8100212, 8100212, 8100212, 810‚Ä¶\n## $ conglomerado          <int> 35395, 35395, 35395, 35395, 35395, 35395, 35395,‚Ä¶\n## $ id_identificacion     <int> 188791, 188792, 188792, 188792, 188792, 188793, ‚Ä¶\n## $ hogar                 <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ‚Ä¶\n## $ idrph                 <dbl> 853676467929, 69857573301, 733202104071, 9740210‚Ä¶\n## $ nro_linea             <int> 1, 2, 4, 3, 1, 1, 2, 1, 4, 1, 3, 2, 1, 2, 1, 2, ‚Ä¶\n## $ proveedor             <int> 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, ‚Ä¶\n## $ parentesco            <int> 1, 4, 1, 4, 3, 3, 1, 1, 1, 2, 4, 4, 4, 1, 4, 1, ‚Ä¶\n## $ sexo                  <int> 1, 1, 2, 2, 1, 2, 1, 2, 1, 2, 2, 2, 1, 1, 2, 2, ‚Ä¶\n## $ edad                  <int> 57, 23, 54, 21, 55, 30, 31, 70, 52, 46, 14, 19, ‚Ä¶\n## $ est_conyugal          <int> 3, 2, 2, 2, 2, 2, 2, 3, 1, 1, 0, 3, 5, 4, 3, 6, ‚Ä¶\n## $ mig1                  <int> 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, ‚Ä¶\n## $ mig2_cod              <int> NA, NA, NA, NA, 7406, NA, NA, 13101, NA, NA, NA,‚Ä¶\n## $ mig3_cod              <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ mig4                  <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, ‚Ä¶\n## $ mig5_cod              <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, 8107, NA, NA‚Ä¶\n## $ mig6_cod              <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ nacionalidad          <int> 152, 152, 152, 152, 152, 152, 152, 152, 152, 152‚Ä¶\n## $ orig1                 <int> 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ‚Ä¶\n## $ orig2                 <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ orig3                 <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ curso                 <int> 3, 4, 5, 2, 2, 5, 6, 2, 4, 4, 8, 4, 4, 6, 3, 2, ‚Ä¶\n## $ nivel                 <int> 9, 4, 5, 7, 4, 9, 9, 4, 4, 5, 3, 4, 4, 6, 9, 11,‚Ä¶\n## $ termino_nivel         <int> 2, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, ‚Ä¶\n## $ estudia_actual        <int> 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 1, 2, ‚Ä¶\n## $ edu1                  <int> 3, 4, 5, 2, 2, 5, 6, 2, 4, 4, 8, 4, 4, 6, 3, 2, ‚Ä¶\n## $ edu2                  <int> 13, 8, 9, 12, 8, 13, 13, 8, 8, 9, 6, 8, 8, 10, 1‚Ä¶\n## $ edu3                  <int> 2, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, ‚Ä¶\n## $ edu4                  <int> 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 1, 2, ‚Ä¶\n## $ a1                    <int> 1, 1, 1, 2, 2, 1, 1, 2, 2, 2, NA, 2, 2, 2, 1, 1,‚Ä¶\n## $ a2                    <int> NA, NA, NA, 2, 2, NA, NA, 2, 2, 2, NA, 2, 2, 2, ‚Ä¶\n## $ a3                    <int> 1, 1, 1, NA, NA, 1, 1, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ a4                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ a5                    <int> NA, NA, NA, 2, 2, NA, NA, 2, 1, 2, NA, 2, 2, 2, ‚Ä¶\n## $ a6                    <int> NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, N‚Ä¶\n## $ a6_otro               <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ a7                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ a8                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ b1                    <int> 7, 9, 5, NA, NA, 2, 2, NA, 5, NA, NA, NA, NA, NA‚Ä¶\n## $ b2                    <int> 2, 1, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ b3                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ b4                    <int> NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ b5                    <int> 2, NA, 2, NA, NA, 1, 1, NA, 2, NA, NA, NA, NA, N‚Ä¶\n## $ b6                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ b7a_1                 <int> 2, NA, 1, NA, NA, 1, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7a_2                 <int> 2, NA, 1, NA, NA, 1, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7a_3                 <int> 2, NA, 1, NA, NA, 1, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7b_1                 <int> 1, NA, 1, NA, NA, 2, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7b_2                 <int> 2, NA, 1, NA, NA, 1, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7b_3                 <int> 2, NA, 1, NA, NA, 1, 77, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ b7b_4                 <int> 2, NA, 88, NA, NA, 1, 77, NA, 2, NA, NA, NA, NA,‚Ä¶\n## $ b8                    <int> 2, NA, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, N‚Ä¶\n## $ b9                    <int> 2, NA, 2, NA, NA, 1, 1, NA, 2, NA, NA, NA, NA, N‚Ä¶\n## $ b10                   <int> NA, NA, NA, NA, NA, 5, 4, NA, NA, NA, NA, NA, NA‚Ä¶\n## $ b11_proxy             <int> 1, 2, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ b12                   <int> 1, NA, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, N‚Ä¶\n## $ b13_rev4cl_caenes     <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ b14_rev4cl_caenes     <int> 7, 19, 7, NA, NA, 16, 15, NA, 11, NA, NA, NA, NA‚Ä¶\n## $ b15_1                 <int> 1, 1, 2, NA, NA, 5, 5, NA, 5, NA, NA, NA, NA, NA‚Ä¶\n## $ b15_2                 <int> 2, 1, 9, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,‚Ä¶\n## $ b16                   <int> 1, 5, 1, NA, NA, 1, 5, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ b16_otro              <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ b17_mes               <int> 88, 6, 88, NA, NA, 9, 1, NA, 4, NA, NA, NA, NA, ‚Ä¶\n## $ b17_ano               <int> 2011, 2024, 2010, NA, NA, 2024, 2025, NA, 2012, ‚Ä¶\n## $ b18_region            <int> 8, 8, 8, NA, NA, 8, 8, NA, 8, NA, NA, NA, NA, NA‚Ä¶\n## $ b18_codigo            <int> 8111, 8111, 8111, NA, NA, 8111, 8111, NA, 8110, ‚Ä¶\n## $ b18_varias            <int> 1, 1, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ ocup_honorarios       <int> 2, 2, 2, NA, NA, 2, 1, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ plataformas_digitales <int> 2, 1, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ pd_especifique        <chr> \"\", \"FACEBOOK\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ b19                   <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ dependencia_segunda   <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ sda_pd                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ sda_pd_especifique    <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ i1                    <int> 1, NA, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, N‚Ä¶\n## $ i2                    <int> 1, NA, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, N‚Ä¶\n## $ i3                    <int> 2, NA, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, N‚Ä¶\n## $ i3_v                  <int> 0, NA, 0, NA, NA, 0, 0, NA, 0, NA, NA, NA, NA, N‚Ä¶\n## $ i4                    <int> NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ i5                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ i6                    <int> NA, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ i7                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ f7a                   <int> 2, 2, 2, NA, NA, 1, 2, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ f7b                   <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ f7c                   <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ f7d                   <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ f7e                   <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ turno                 <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ turno_d               <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_de              <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_h               <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_t               <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c2_1_1                <int> 8, 8, 888, NA, NA, 888, 888, NA, 888, NA, NA, NA‚Ä¶\n## $ c2_1_2                <int> 5, 4, 6, NA, NA, 5, 5, NA, 5, NA, NA, NA, NA, NA‚Ä¶\n## $ c2_1_3                <int> 40, 32, 44, NA, NA, 36, 44, NA, 44, NA, NA, NA, ‚Ä¶\n## $ c2_2_1                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c2_2_2                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c2_2_3                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c3_1                  <int> 8, NA, 888, NA, NA, 888, 888, NA, 888, NA, NA, N‚Ä¶\n## $ c3_2                  <int> 5, NA, 6, NA, NA, 5, 5, NA, 5, NA, NA, NA, NA, N‚Ä¶\n## $ c3_3                  <int> 40, NA, 44, NA, NA, 36, 44, NA, 44, NA, NA, NA, ‚Ä¶\n## $ turno_cont_d          <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_cont_de         <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_cont_h          <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ turno_cont_t          <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c4                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ c5                    <int> 2, 1, 2, NA, NA, 2, 1, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ c6                    <int> NA, 3, NA, NA, NA, NA, 12, NA, NA, NA, NA, NA, N‚Ä¶\n## $ c7                    <int> 2, NA, 2, NA, NA, 2, NA, NA, 1, NA, NA, NA, NA, ‚Ä¶\n## $ c8                    <int> NA, NA, NA, NA, NA, NA, NA, NA, 44, NA, NA, NA, ‚Ä¶\n## $ c9                    <int> NA, 16, NA, NA, NA, NA, 13, NA, 3, NA, NA, NA, N‚Ä¶\n## $ c9_otro               <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ adicionales_h         <int> NA, 3, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA‚Ä¶\n## $ adicionales_d         <int> NA, 5, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA‚Ä¶\n## $ adicionales_t         <int> NA, 15, NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ c10                   <int> 2, 1, 2, NA, NA, 1, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ c11                   <int> NA, 1, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA‚Ä¶\n## $ c12                   <int> NA, 2, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA‚Ä¶\n## $ e2                    <int> 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, NA, 2, 2, 2, 1, 2,‚Ä¶\n## $ e3_1                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_2                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_3                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_4                  <int> NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_5                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_6                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_7                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_8                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_9                  <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_10                 <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_11                 <int> NA, 0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e3_12                 <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e3_total              <int> NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e4                    <int> NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e5                    <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e5_dia                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e5_sem                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e5_mes                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e5_ano                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e6_mes                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e6_ano                <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e7                    <int> NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e9                    <int> NA, NA, NA, 4, 22, NA, NA, 15, NA, 17, NA, 4, 21‚Ä¶\n## $ e9_otro               <chr> \"\", \"\", \"\", \"\", \"NO PUDO RENOVAR LA LICENCIA DE ‚Ä¶\n## $ e10                   <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ deseo_trabajar        <int> NA, NA, NA, 2, 1, NA, NA, 2, NA, 1, NA, 2, NA, 2‚Ä¶\n## $ e11                   <int> NA, NA, NA, 2, 2, NA, NA, 2, NA, 1, NA, 2, NA, 2‚Ä¶\n## $ e12                   <int> NA, NA, NA, 3, 13, NA, NA, 5, NA, NA, NA, 3, NA,‚Ä¶\n## $ e12_otro              <chr> \"\", \"\", \"\", \"\", \"PARA RENOVAR LICENCIA DE CONDUC‚Ä¶\n## $ e13                   <int> NA, NA, NA, 1, 1, NA, NA, 1, NA, 2, NA, 2, 1, 1,‚Ä¶\n## $ e21_mes               <int> NA, NA, NA, 12, 88, NA, NA, 2, NA, NA, NA, NA, 8‚Ä¶\n## $ e21_ano               <int> NA, NA, NA, 2024, 2024, NA, NA, 2025, NA, NA, NA‚Ä¶\n## $ e21_tramo             <int> NA, NA, NA, 5, 1, NA, NA, 1, NA, NA, NA, NA, 5, ‚Ä¶\n## $ e22                   <int> NA, NA, NA, 3, 1, NA, NA, 3, NA, NA, NA, NA, 3, ‚Ä¶\n## $ e23                   <int> NA, NA, NA, NA, 6, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n## $ e23_otro              <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ e24                   <int> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ‚Ä¶\n## $ e24_otro              <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", ‚Ä¶\n## $ tramo_edad            <int> 9, 2, 8, 2, 9, 4, 4, 12, 8, 7, NA, 1, 9, 12, 2, ‚Ä¶\n## $ cine97                <int> 3, 3, 3, 3, 2, 4, 4, 2, 3, 3, 2, 3, 3, 3, 3, 5, ‚Ä¶\n## $ cine11_1d             <int> 2, 2, 2, 2, 1, 4, 4, 1, 2, 2, 1, 2, 2, 2, 2, 5, ‚Ä¶\n## $ cine11_2d             <int> 24, 24, 25, 24, 14, 46, 46, 14, 24, 25, 14, 24, ‚Ä¶\n## $ ina_cal_edu           <int> 2, 2, 2, NA, NA, 2, 2, NA, 2, NA, NA, NA, NA, NA‚Ä¶\n## $ activ                 <int> 1, 1, 1, 3, 3, 1, 1, 3, 1, 3, NA, 3, 3, 3, 1, 1,‚Ä¶\n## $ cae_general           <int> 1, 1, 1, 9, 9, 1, 1, 9, 3, 8, 0, 9, 9, 9, 1, 1, ‚Ä¶\n## $ cae_especifico        <int> 1, 1, 1, 15, 28, 1, 1, 19, 5, 26, 0, 15, 24, 17,‚Ä¶\n## $ categoria_ocupacion   <int> 3, 2, 3, 0, 0, 4, 4, 0, 3, 0, 0, 0, 0, 0, 3, 4, ‚Ä¶\n## $ habituales            <int> 40, 32, 44, NA, NA, 36, 44, NA, 44, NA, NA, NA, ‚Ä¶\n## $ efectivas             <int> 40, 35, 44, NA, NA, 36, 56, NA, 0, NA, NA, NA, N‚Ä¶\n## $ tpi                   <int> 0, 0, 0, NA, NA, 0, 0, NA, 0, NA, NA, NA, NA, NA‚Ä¶\n## $ ocup_form             <int> 2, 2, 1, NA, NA, 1, 2, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ sector                <int> 1, 2, 1, NA, NA, 1, 1, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ r_p_rev4cl_caenes     <int> 7, 19, 7, NA, NA, 16, 15, NA, 11, NA, NA, NA, NA‚Ä¶\n## $ ftp                   <int> NA, NA, NA, 0, 0, NA, NA, 0, NA, 1, NA, 0, 0, 0,‚Ä¶\n## $ obe                   <int> 0, 1, 0, NA, NA, 0, 0, NA, 0, NA, NA, NA, NA, NA‚Ä¶\n## $ id                    <int> NA, NA, NA, 0, 0, NA, NA, 0, NA, 0, NA, 0, 0, 0,‚Ä¶\n## $ asocia                <int> 2, 2, 2, NA, NA, 1, 2, NA, 1, NA, NA, NA, NA, NA‚Ä¶\n## $ fact_cal              <chr> \"130,126164801805\", \"120,770034305589\", \"117,699‚Ä¶\n\n# Dimensiones (filas x columnas)\ndim(datos)\n## [1] 98600   185\n```\n:::\n\n\n\n\n### Explorar variables\n\nEn el formato `data.frame`, las columnas son las variables y las filas son las observaciones, i.e., la informaci√≥n de cada persona encuestada para cada variable (columna). En este sentido, a trav√©s de la fila vemos lo que respondi√≥ cada informante en las preguntas que se les realiz√≥ en la determinada encuesta (o en las variables derivadas del cuestionario). Por ello, conviene revisar los manuales metodol√≥gicos, los libros de c√≥digos, los cuestionarios, etc., de la encuesta que estemos usando. Para nuestro caso, revisando el [Libro de C√≥digos de la ENE](https://www.ine.gob.cl/docs/default-source/ocupacion-y-desocupacion/metadatos/2020/encuesta-nacional-de-empleo---a√±o-de-referencia-2020.pdf?sfvrsn=bc1fb0e6_8), podr√≠amos revisar las siguientes variables:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Acceder a una columna espec√≠fica con $\nestudiantes$edad\n## [1] 23 25 24 26 23\n\n# Otra forma: usando corchetes\nestudiantes[, \"edad\"]\n## [1] 23 25 24 26 23\n\n\n# Ahora con funciones de R y variables de la ENE \n# Condici√≥n de actividad (Ocupados (1), Desocupado (2) y Fuerza de la FDT (3))\nfrq(datos$activ) # Proporci√≥n de activ\n## x <integer> \n## # total N=98600 valid N=82671 mean=1.93 sd=0.97\n## \n## Value |     N | Raw % | Valid % | Cum. %\n## ----------------------------------------\n##     1 | 42467 | 43.07 |   51.37 |  51.37\n##     2 |  3918 |  3.97 |    4.74 |  56.11\n##     3 | 36286 | 36.80 |   43.89 | 100.00\n##  <NA> | 15929 | 16.16 |    <NA> |   <NA>\n\n# Clasificaci√≥n Internacional de Nivel Educacional (CINE) 1997\nfrq(datos$cine97) # Proporci√≥n CINE 97\n## x <integer> \n## # total N=98600 valid N=98600 mean=2.34 sd=1.47\n## \n## Value |     N | Raw % | Valid % | Cum. %\n## ----------------------------------------\n##     0 | 19015 | 19.28 |   19.28 |  19.28\n##     1 |  7052 |  7.15 |    7.15 |  26.44\n##     2 | 18626 | 18.89 |   18.89 |  45.33\n##     3 | 32876 | 33.34 |   33.34 |  78.67\n##     4 | 19610 | 19.89 |   19.89 |  98.56\n##     5 |   972 |  0.99 |    0.99 |  99.54\n##     9 |   449 |  0.46 |    0.46 | 100.00\n##  <NA> |     0 |  0.00 |    <NA> |   <NA>\n\n# Condici√≥n de actividad econ√≥mica general\n## Ver categorias en documento\nfrq(datos$cae_general)\n## x <integer> \n## # total N=98600 valid N=98600 mean=3.91 sd=3.85\n## \n## Value |     N | Raw % | Valid % | Cum. %\n## ----------------------------------------\n##     0 | 15929 | 16.16 |   16.16 |  16.16\n##     1 | 38405 | 38.95 |   38.95 |  55.11\n##     2 |  1396 |  1.42 |    1.42 |  56.52\n##     3 |  2666 |  2.70 |    2.70 |  59.23\n##     4 |  3558 |  3.61 |    3.61 |  62.83\n##     5 |   360 |  0.37 |    0.37 |  63.20\n##     6 |   240 |  0.24 |    0.24 |  63.44\n##     7 |    40 |  0.04 |    0.04 |  63.48\n##     8 |  5442 |  5.52 |    5.52 |  69.00\n##     9 | 30564 | 31.00 |   31.00 | 100.00\n##  <NA> |     0 |  0.00 |    <NA> |   <NA>\n```\n:::\n\n\n\n\n::: {.callout-tip}\n## Tip: Rutas relativas\nUsa rutas relativas desde tu archivo .R:\n- `../data/archivo.csv` (sube una carpeta, entra a data)\n- Nunca uses `C:/Mi Computador/...` (no funcionar√° en otros computadores)\n:::\n\nObviamente, como son muy astutxs, ya se estar√°n preguntando si se pueden hacer an√°lisis m√°s refinados. Ciertamente s√≠, y eso iremos viendo a lo largo del curso y tambi√©n en esta sesi√≥n. Pero por poner un ejemplo, la ENE se utiliza para para calcular indicadores como la tasa de ocupaci√≥n, desempleo, de participaci√≥n, de ocupaci√≥n informal, etc. Aunque a√∫n no veremos c√≥mo hacerlo estimando nuestra muestra a nivel poblacional (con muestras complejas (`survey` y `srvyr`)).\n\nLa ENE calcula la tasa de ocupaci√≥n como \n$$\n\\text{Tasa de ocupacion} = \\frac{\\text{Ocupados/as}}{\\text{Poblacion en edad de trabajar}} \\times 100\n$$\nComo ya les parecer√° obvio por su astucia, vimos una variable que nos permitir√≠a c√≥mo calcular esto: `activ`. Dado que `1. Ocupados/as`, entonces, solo habr√≠a que\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Tasa de ocupaci√≥n muestral (sin survey)\n## Requiere en 'datos' las variables: activ (1=ocupado, 2/3=no (o sea PET)) y edad\n\n# 1) Variables auxiliares equivalentes a Stata\ndatos$oc    <- ifelse(datos$activ == 1, 1, 0)        # ocupado\ndatos$may15 <- ifelse(datos$edad  >= 15, 1, 0)       # PET potencial (15+)\n\n# 2) Tasa de ocupaci√≥n (toc)\ndatos$toc <- ifelse(datos$may15 == 1, datos$oc, NA_real_)\n\n# 3) Estimaci√≥n muestral de la tasa de ocupaci√≥n (subpoblaci√≥n edad>=15)\nnumerador   <- sum(datos$oc  [datos$may15 == 1 & !is.na(datos$activ)], na.rm = TRUE)\ndenominador <- sum(          datos$may15 == 1 & !is.na(datos$activ))\ntoc_muestra <- numerador / denominador\n\ntoc_muestra                    # proporci√≥n\n## [1] 0.5136868\ntoc_muestra * 100              # porcentaje\n## [1] 51.36868\n```\n:::\n\n\n\n\nEsto significar√≠a que, a nivel muestral, la tasa de ocupaci√≥n es del 51,36%. Pero, antes de pasar un procesamiento m√°s refinado de los datos, para justamente obtener indicadores y an√°lisis estad√≠sticos mejores, hay que mencionar que el c√≥digo anterior podr√≠a estar mucho m√°s optimizado. ¬øC√≥mo? Con nuestro nuevo amigo que nos acompa√±ar√° todo el curso: `dplyr`, paquete dentro de `tidyverse`. Con √©l, y sus funciones, podremos calcular la tasa de ocupaci√≥n (muestral) con una l√≠nea de c√≥digo concateando procesos con `|>` (o `%>%` que viene en `magritrr`, tambi√©n paquete incluido en `tidyverse`): \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntoc_muestra <- datos |>\n  mutate(oc = activ == 1, # Creamos ocupado (oc) y mayores de 15 (may15)\n         may15 = edad >= 15) |>  \n  filter(may15, !is.na(activ)) |>  # Filtramos mayores de 15 y sin NA en activ\n  summarise(toc = mean(oc)) |> # Calculamos promedio de ocupados\n  pull(toc)   # Extraemos el valor num√©rico\n\ntoc_muestra          # Proporci√≥n\n## [1] 0.5136868\ntoc_muestra * 100    # Porcentaje\n## [1] 51.36868\n```\n:::\n\n\n\n\n\nDicho esto, es momento de avanzar en nuestro an√°lisis exploratorio de datos usando una base que nos permita profundizar en estad√≠stica descriptiva. Para ello, trabajaremos con la **Encuesta Suplementaria de Ingresos (ESI)**, que es un m√≥dulo complementario de la ENE aplicado anualmente en el trimestre noviembre-enero.\n\n---\n\n## 4. Trabajando con la Encuesta Suplementaria de Ingresos (ESI)\n\n### ¬øQu√© es la ESI?\n\nLa Encuesta Suplementaria de Ingresos (ESI) es un m√≥dulo de la ENE que se aplica una vez al a√±o y tiene como objetivo principal caracterizar los ingresos de las personas y los hogares en Chile. Esta encuesta nos permite, entre otras cosas:\n\n- Analizar la distribuci√≥n de ingresos en la poblaci√≥n\n- Estudiar brechas salariales por g√©nero, edad, nivel educacional\n- Examinar la relaci√≥n entre educaci√≥n y ingresos\n- Comprender la estructura de ingresos laborales\n\nPara nuestros prop√≥sitos metodol√≥gicos, esta base es ideal porque contiene variables tanto cuantitativas (edad, ingresos) como cualitativas (sexo, nivel educacional, condici√≥n de actividad), lo que nos permitir√° aplicar las distintas herramientas de estad√≠stica descriptiva que aprenderemos.\n\n### Cargando la base de datos\n\nCargaremos la ESI 2024 directamente desde el sitio web del INE. Usaremos el paquete `haven` para leer archivos en formato Stata (.dta):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cargar la ESI 2024 desde el INE\nesi2024 <- haven::read_dta(\"https://www.ine.gob.cl/docs/default-source/encuesta-suplementaria-de-ingresos/bbdd/stata_esi/2024/esi_2024.dta?sfvrsn=627c0f59_4&download=true\")\n\n# Explorar la estructura\nglimpse(esi2024)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 85,172\nColumns: 282\n$ ano_trimestre            <dbl> 2024, 2024, 2024, 2024, 2024, 2024, 2024, 202‚Ä¶\n$ mes_central              <dbl+lbl> 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 1‚Ä¶\n$ ano_encuesta             <dbl> 2024, 2024, 2024, 2024, 2024, 2024, 2024, 202‚Ä¶\n$ mes_encuesta             <dbl+lbl> 10, 11, 11, 12, 10, 10, 10, 10, 10, 11, 1‚Ä¶\n$ region                   <dbl+lbl>  6, 13,  9,  5, 11, 13,  8,  4,  5,  3,  ‚Ä¶\n$ provincia                <dbl+lbl>  61, 131,  91,  55, 111, 131,  81,  43,  ‚Ä¶\n$ tipo                     <dbl+lbl> 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 3, 1,‚Ä¶\n$ r_p_c                    <dbl+lbl>  6116, 13105,  9112,  5502, 11101, 13104,‚Ä¶\n$ estrato                  <dbl> 6100112, 13100412, 9100113, 5500112, 11100110‚Ä¶\n$ conglomerado             <chr> \"14368\", \"38039\", \"43839\", \"17334\", \"12672\", ‚Ä¶\n$ id_identificacion        <dbl> 174594, 169149, 169426, 189147, 175247, 16651‚Ä¶\n$ hogar                    <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, ‚Ä¶\n$ idrph                    <dbl> 2938399, 5615533, 5841234, 5930196, 6201344, ‚Ä¶\n$ nro_linea                <dbl> 1, 1, 3, 3, 7, 4, 2, 1, 2, 1, 1, 1, 2, 1, 1, ‚Ä¶\n$ proveedor                <dbl+lbl> 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0,‚Ä¶\n$ parentesco               <dbl+lbl>  3,  2,  1,  4, 10,  7,  4,  1,  6,  3,  ‚Ä¶\n$ sexo                     <dbl+lbl> 2, 2, 1, 2, 1, 1, 1, 1, 2, 1, 2, 2, 2, 2,‚Ä¶\n$ edad                     <dbl> 60, 69, 54, 23, 22, 59, 17, 63, 16, 45, 39, 2‚Ä¶\n$ est_conyugal             <dbl+lbl> 2, 1, 2, 3, 3, 4, 3, 5, 3, 2, 1, 2, 3, 3,‚Ä¶\n$ mig1                     <dbl+lbl> 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 2, 1, 1,‚Ä¶\n$ mig2_cod                 <dbl+lbl>    NA,    NA,    NA,    NA,    NA,    NA,‚Ä¶\n$ mig3_cod                 <dbl+lbl>  NA,  NA,  NA,  NA, 862,  NA,  NA,  NA,  ‚Ä¶\n$ mig4                     <dbl+lbl> 2, 2, 2, 1, 3, 1, 1, 1, 1, 1, 2, 2, 3, 1,‚Ä¶\n$ mig5_cod                 <dbl+lbl>  9111, 13123,  9105,    NA,    NA,    NA,‚Ä¶\n$ mig6_cod                 <dbl+lbl>  NA,  NA,  NA,  NA, 862,  NA,  NA,  NA,  ‚Ä¶\n$ nacionalidad             <dbl+lbl> 152, 152, 152, 152, 862, 152, 152, 152, 1‚Ä¶\n$ orig1                    <dbl+lbl> 1, 2, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1,‚Ä¶\n$ orig2                    <dbl+lbl>  1, NA,  1, NA, NA, NA, NA, NA,  7,  7, N‚Ä¶\n$ orig3                    <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ curso                    <dbl+lbl> 5, 6, 4, 3, 4, 3, 3, 8, 1, 3, 2, 5, 6, 5,‚Ä¶\n$ nivel                    <dbl+lbl> 3, 9, 4, 9, 5, 4, 4, 3, 4, 8, 9, 9, 3, 9,‚Ä¶\n$ termino_nivel            <dbl+lbl>  2,  1,  1,  2,  1,  2,  2,  1,  2,  1,  ‚Ä¶\n$ estudia_actual           <dbl+lbl> 2, 2, 2, 1, 2, 2, 1, 2, 1, 2, 1, 2, 2, 2,‚Ä¶\n$ edu1                     <dbl+lbl> 5, 6, 4, 3, 4, 3, 3, 8, 1, 3, 2, 5, 6, 5,‚Ä¶\n$ edu2                     <dbl+lbl>  6, 13,  8, 13,  9,  8,  8,  6,  8, 12, 1‚Ä¶\n$ edu3                     <dbl+lbl>  2,  1,  1,  2,  1,  2,  2,  1,  2,  1,  ‚Ä¶\n$ edu4                     <dbl+lbl> 2, 2, 2, 1, 2, 2, 1, 2, 1, 2, 1, 2, 2, 2,‚Ä¶\n$ a1                       <dbl+lbl>  2,  2,  1,  2,  1,  2,  2,  1,  2,  1,  ‚Ä¶\n$ a2                       <dbl+lbl>  2,  2, NA,  2, NA,  2,  2, NA,  2, NA,  ‚Ä¶\n$ a3                       <dbl+lbl> NA, NA,  1, NA,  1, NA, NA,  1, NA,  1, N‚Ä¶\n$ a4                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ a5                       <dbl+lbl>  2,  2, NA,  2, NA,  2,  2, NA,  2, NA,  ‚Ä¶\n$ a6                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ a6_otro                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ a7                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ a8                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ b1                       <dbl+lbl> NA, NA,  6, NA,  9, NA, NA,  6, NA,  5, N‚Ä¶\n$ b2                       <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  1, NA,  1, N‚Ä¶\n$ b3                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ b4                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  2, NA,  2, N‚Ä¶\n$ b5                       <chr> \".\", \".\", \"2\", \".\", \"2\", \".\", \".\", \".\", \".\", ‚Ä¶\n$ b6                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7a_1                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7a_2                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7a_3                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7b_1                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7b_2                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7b_3                    <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b7b_4                    <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b8                       <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b9                       <dbl+lbl> NA, NA,  2, NA,  1, NA, NA, NA, NA, NA, N‚Ä¶\n$ b10                      <dbl+lbl> NA, NA, NA, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b11_proxy                <dbl+lbl> NA, NA,  1, NA,  1, NA, NA,  2, NA,  2, N‚Ä¶\n$ b12                      <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ b13_rev4cl_caenes        <dbl+lbl> NA, NA, NA, NA,  6, NA, NA, NA, NA, NA, N‚Ä¶\n$ b14_rev4cl_caenes        <dbl+lbl> NA, NA, 19, NA,  6, NA, NA,  1, NA,  3, N‚Ä¶\n$ b15_1                    <dbl+lbl> NA, NA,  4, NA,  2, NA, NA,  1, NA,  1, N‚Ä¶\n$ b15_2                    <dbl+lbl> NA, NA, NA, NA,  5, NA, NA,  1, NA,  1, N‚Ä¶\n$ b16                      <dbl+lbl> NA, NA,  1, NA,  7, NA, NA,  4, NA,  3, N‚Ä¶\n$ b16_otro                 <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ b17_mes                  <dbl+lbl> NA, NA,  1, NA,  4, NA, NA,  7, NA,  1, N‚Ä¶\n$ b17_ano                  <dbl+lbl>   NA,   NA, 2022,   NA, 2023,   NA,   NA,‚Ä¶\n$ b18_region               <dbl+lbl> NA, NA,  9, NA, 11, NA, NA,  4, NA,  3, N‚Ä¶\n$ b18_codigo               <dbl+lbl>    NA,    NA,  9101,    NA, 11402,    NA,‚Ä¶\n$ b18_varias               <dbl+lbl> NA, NA,  1, NA,  1, NA, NA,  1, NA,  1, N‚Ä¶\n$ ocup_honorarios          <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ plataformas_digitales    <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  1, N‚Ä¶\n$ pd_especifique           <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"FACEBOOK‚Ä¶\n$ b19                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ dependencia_segunda      <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ sda_pd                   <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ sda_pd_especifique       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ i1                       <dbl+lbl> NA, NA,  1, NA,  1, NA, NA, NA, NA, NA, N‚Ä¶\n$ i2                       <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ i3                       <dbl+lbl> NA, NA,  1, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ i3_v                     <dbl+lbl> NA, NA,  0, NA,  0, NA, NA, NA, NA, NA, N‚Ä¶\n$ i4                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  2, NA,  1, N‚Ä¶\n$ i5                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA,  2, N‚Ä¶\n$ i6                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  4, NA,  1, N‚Ä¶\n$ i7                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA,  1, N‚Ä¶\n$ f7a                      <dbl+lbl> NA, NA,  1, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ f7b                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ f7c                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ f7d                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ f7e                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ turno                    <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ turno_d                  <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_de                 <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_h                  <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_t                  <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c2_1_1                   <dbl+lbl>  NA,  NA, 888,  NA,   8,  NA,  NA,   6,  ‚Ä¶\n$ c2_1_2                   <dbl+lbl> NA, NA,  5, NA,  6, NA, NA,  7, NA,  6, N‚Ä¶\n$ c2_1_3                   <dbl+lbl> NA, NA, 44, NA, 48, NA, NA, 42, NA, 42, N‚Ä¶\n$ c2_2_1                   <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c2_2_2                   <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c2_2_3                   <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c3_1                     <dbl+lbl>  NA,  NA, 888,  NA,   8,  NA,  NA,  NA,  ‚Ä¶\n$ c3_2                     <dbl+lbl> NA, NA,  5, NA,  6, NA, NA, NA, NA, NA, N‚Ä¶\n$ c3_3                     <dbl+lbl> NA, NA, 44, NA, 48, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_cont_d             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_cont_de            <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_cont_h             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ turno_cont_t             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c4                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c5                       <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ c6                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ c7                       <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  1, N‚Ä¶\n$ c8                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA,  7, N‚Ä¶\n$ c9                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA,  1, N‚Ä¶\n$ c9_otro                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ adicionales_h            <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  4, NA,  3, N‚Ä¶\n$ adicionales_d            <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  7, NA,  5, N‚Ä¶\n$ adicionales_t            <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, 28, NA, 15, N‚Ä¶\n$ c10                      <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  1, NA,  1, N‚Ä¶\n$ c11                      <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  1, N‚Ä¶\n$ c12                      <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  2, N‚Ä¶\n$ e2                       <dbl+lbl>  2,  2,  2,  1,  2,  2,  2,  2,  2,  2,  ‚Ä¶\n$ e3_1                     <dbl+lbl> NA, NA, NA,  1, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_2                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_3                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_4                     <dbl+lbl> NA, NA, NA,  1, NA, NA, NA, NA, NA, NA,  ‚Ä¶\n$ e3_5                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_6                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_7                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_8                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_9                     <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_10                    <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_11                    <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_12                    <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e3_total                 <dbl> NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, 1, NA,‚Ä¶\n$ e4                       <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ e5                       <dbl+lbl> NA, NA, NA,  1, NA, NA, NA, NA, NA, NA,  ‚Ä¶\n$ e5_dia                   <dbl+lbl> NA, NA, NA, 20, NA, NA, NA, NA, NA, NA, 1‚Ä¶\n$ e5_sem                   <dbl+lbl> NA, NA, NA,  4, NA, NA, NA, NA, NA, NA,  ‚Ä¶\n$ e5_mes                   <dbl+lbl> NA, NA, NA, 12, NA, NA, NA, NA, NA, NA, 1‚Ä¶\n$ e5_ano                   <dbl+lbl>   NA,   NA,   NA, 2024,   NA,   NA,   NA,‚Ä¶\n$ e6_mes                   <dbl+lbl> NA, NA, NA, 11, NA, NA, NA, NA, NA, NA, 1‚Ä¶\n$ e6_ano                   <dbl+lbl>   NA,   NA,   NA, 2024,   NA,   NA,   NA,‚Ä¶\n$ e7                       <dbl+lbl> NA, NA, NA,  2, NA, NA, NA, NA, NA, NA,  ‚Ä¶\n$ e9                       <dbl+lbl>  3,  3, NA, NA, NA,  8,  4, NA,  4, NA, N‚Ä¶\n$ e9_otro                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ e10                      <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ deseo_trabajar           <dbl+lbl>  2,  2, NA, NA, NA,  2,  2, NA,  2, NA, N‚Ä¶\n$ e11                      <dbl+lbl>  2,  2, NA,  1, NA,  2,  2, NA,  2, NA,  ‚Ä¶\n$ e12                      <dbl+lbl>  5,  4, NA, NA, NA,  8,  3, NA,  3, NA,  ‚Ä¶\n$ e12_otro                 <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ e13                      <dbl+lbl>  1,  1, NA,  2, NA,  1,  2, NA,  2, NA,  ‚Ä¶\n$ e21_mes                  <dbl+lbl> 12, 99, NA, NA, NA, 12, NA, NA, NA, NA, 8‚Ä¶\n$ e21_ano                  <dbl+lbl> 2013, 2018,   NA,   NA,   NA, 2014,   NA,‚Ä¶\n$ e21_tramo                <dbl+lbl>  4,  3, NA, NA, NA,  4, NA, NA, NA, NA,  ‚Ä¶\n$ e22                      <dbl+lbl>  3,  3, NA, NA, NA,  2, NA, NA, NA, NA,  ‚Ä¶\n$ e23                      <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,  ‚Ä¶\n$ e23_otro                 <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ e24                      <dbl+lbl> NA, NA, NA, NA, NA, 10, NA, NA, NA, NA, N‚Ä¶\n$ e24_otro                 <chr> \"\", \"\", \"\", \"\", \"\", \"PROBLEMAS CON EL ALCOHOL‚Ä¶\n$ tramo_edad               <dbl+lbl> 10, 11,  8,  2,  2,  9,  1, 10,  1,  7,  ‚Ä¶\n$ cine97                   <dbl+lbl> 0, 4, 3, 3, 3, 2, 2, 2, 2, 4, 3, 4, 1, 4,‚Ä¶\n$ cine11_1d                <dbl+lbl> 0, 4, 2, 2, 2, 1, 1, 1, 1, 3, 2, 4, 1, 4,‚Ä¶\n$ cine11_2d                <dbl+lbl>  3, 46, 24, 24, 25, 14, 14, 14, 14, 35, 2‚Ä¶\n$ ina_cal_edu              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  3, N‚Ä¶\n$ activ                    <dbl+lbl>  3,  3,  1,  2,  1,  3,  3,  1,  3,  1,  ‚Ä¶\n$ cae_general              <dbl+lbl> 9, 9, 1, 5, 1, 9, 9, 1, 9, 1, 7, 1, 1, 1,‚Ä¶\n$ cae_especifico           <dbl+lbl> 13, 13,  1,  9,  1, 21, 15,  1, 15,  1, 1‚Ä¶\n$ categoria_ocupacion      <dbl+lbl> 0, 0, 3, 0, 3, 0, 0, 2, 0, 2, 0, 2, 3, 3,‚Ä¶\n$ habituales               <dbl+lbl> NA, NA, 44, NA, 48, NA, NA, 42, NA, 42, N‚Ä¶\n$ efectivas                <dbl+lbl> NA, NA, 44, NA, 48, NA, NA, 42, NA, 35, N‚Ä¶\n$ tpi                      <dbl+lbl> NA, NA,  0, NA,  0, NA, NA,  0, NA,  0, N‚Ä¶\n$ ocup_form                <dbl+lbl> NA, NA,  1, NA,  2, NA, NA,  2, NA,  1, N‚Ä¶\n$ sector                   <dbl+lbl> NA, NA,  1, NA,  1, NA, NA,  2, NA,  1, N‚Ä¶\n$ r_p_rev4cl_caenes        <dbl+lbl> NA, NA, 19, NA,  6, NA, NA,  1, NA,  3, N‚Ä¶\n$ ftp                      <dbl+lbl>  0,  0, NA, NA, NA,  0,  0, NA,  0, NA,  ‚Ä¶\n$ obe                      <dbl+lbl> NA, NA,  0, NA,  0, NA, NA,  0, NA,  0, N‚Ä¶\n$ id                       <dbl+lbl>  0,  0, NA, NA, NA,  0,  0, NA,  0, NA,  ‚Ä¶\n$ asocia                   <dbl+lbl> NA, NA,  1, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ fact_cal                 <dbl> 181.04995, 321.63792, 379.93380, 263.15276, 5‚Ä¶\n$ d1_opcion                <dbl+lbl> NA, NA,  1, NA,  1, NA, NA, NA, NA, NA, N‚Ä¶\n$ d1_opcionb               <dbl+lbl> NA, NA,  1, NA,  1, NA, NA, NA, NA, NA, N‚Ä¶\n$ d1_monto                 <dbl> NA, NA, 630000.0, NA, 504874.9, NA, NA, NA, N‚Ä¶\n$ d2_1_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_1_opcionb             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_1_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_1_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_1_opcionc             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_2_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_2_opcionb             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_2_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_2_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_2_opcionc             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_3_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_3_opcionb             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_3_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_3_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_3_opcionc             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_4_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_4_opcionb             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_4_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_4_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_4_opcionc             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_5_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_5_opcionb             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_5_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_5_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d2_5_opcionc             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_1_opcion              <dbl+lbl> NA, NA,  2, NA,  1, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_1_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_1_monto               <dbl> NA, NA, NA, NA, 201950, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_1_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_2_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_2_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_2_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_2_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_3_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_3_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_3_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_3_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_4_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_4_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_4_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_4_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_5_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_5_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_5_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_5_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_6_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_6_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_6_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_6_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_7_opcion              <dbl+lbl> NA, NA,  2, NA,  2, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_7_otro                <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"‚Ä¶\n$ d3_7_opcion2             <dbl+lbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_7_monto               <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d3_7_porcentaje          <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d4_dias                  <dbl+lbl> NA, NA, 22, NA, 22, NA, NA, NA, NA, NA, N‚Ä¶\n$ d4_horas                 <dbl+lbl> NA, NA,  8, NA,  8, NA, NA, NA, NA, NA, N‚Ä¶\n$ d5_opcion                <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  1, N‚Ä¶\n$ d5_opcionb               <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  1, N‚Ä¶\n$ d5_monto                 <dbl> NA, NA, NA, NA, NA, NA, NA, 353412.5, NA, 120‚Ä¶\n$ d5_promedio              <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1‚Ä¶\n$ d6_1_opcion              <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  2, NA,  1, N‚Ä¶\n$ d6_2_opcion              <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  2, NA,  2, N‚Ä¶\n$ d7_opcion                <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  2, N‚Ä¶\n$ d7_monto                 <dbl> NA, NA, NA, NA, NA, NA, NA, 7068.249, NA, NA,‚Ä¶\n$ d7_promedio              <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d8_opcion                <dbl+lbl> NA, NA, NA, NA, NA, NA, NA,  1, NA,  2, N‚Ä¶\n$ d8_monto                 <dbl> NA, NA, NA, NA, NA, NA, NA, 201950, NA, NA, N‚Ä¶\n$ d9_opcion                <dbl+lbl> NA, NA,  2, NA,  2, NA, NA,  2, NA,  2, N‚Ä¶\n$ d9_monto                 <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d9_promedio              <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d9_opcionb               <dbl+lbl>  2,  2, NA,  2, NA,  2,  2, NA,  2, NA,  ‚Ä¶\n$ d9_montob                <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ d9_promediob             <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N‚Ä¶\n$ fact_cal_esi             <dbl> 218.58396, 354.06516, 380.26878, 273.40298, 4‚Ä¶\n$ imp_d1_monto             <dbl+lbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,‚Ä¶\n$ imp_d4                   <dbl+lbl> NA, NA,  0, NA,  0, NA, NA, NA, NA, NA, N‚Ä¶\n$ imp_d5_monto             <dbl+lbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,‚Ä¶\n$ ss_t                     <dbl> 0.0, 0.0, 630000.0, 0.0, 504874.9, 0.0, 0.0, ‚Ä¶\n$ svar_t                   <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ‚Ä¶\n$ reg_t                    <dbl> 0, 0, 0, 0, 201950, 0, 0, 0, 0, 0, 0, 0, 0, 0‚Ä¶\n$ gan_t                    <dbl> 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 353412.5, ‚Ä¶\n$ autoconsumo_t            <dbl> 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.0‚Ä¶\n$ ahorroimp_t              <dbl> 0, 0, 0, 0, 0, 0, 0, 201950, 0, 0, 0, 0, 0, 0‚Ä¶\n$ ing_ot                   <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ‚Ä¶\n$ ing_t_d                  <dbl> 0.0, 0.0, 630000.0, 0.0, 706824.9, 0.0, 0.0, ‚Ä¶\n$ ing_t_i                  <dbl> 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 360480.7, ‚Ä¶\n$ ing_t_i_ai               <dbl> 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 158530.7, ‚Ä¶\n$ ing_t_p                  <dbl> 0.0, 0.0, 630000.0, 0.0, 706824.9, 0.0, 0.0, ‚Ä¶\n$ ing_t_t                  <dbl> 0.0, 0.0, 630000.0, 0.0, 706824.9, 0.0, 0.0, ‚Ä¶\n$ ing_t_t_ai               <dbl> 0.0, 0.0, 630000.0, 0.0, 706824.9, 0.0, 0.0, ‚Ä¶\n$ ocup_ref                 <dbl+lbl> NA, NA,  1, NA,  1, NA, NA,  1, NA,  1, N‚Ä¶\n$ tim                      <dbl+lbl> 1, 1, 2, 1, 2, 1, 1, 1, 1, 3, 1, 1, 2, 2,‚Ä¶\n$ conglomerado_correlativo <dbl> 621, 4034, 4815, 1075, 375, 1601, 3729, 457, ‚Ä¶\n$ id_mediana               <dbl> 54895, 69967, 71649, 63052, 3402, 77423, 4659‚Ä¶\n```\n\n\n:::\n:::\n\n\n\n\nComo pueden observar, la base contiene 85.172 observaciones y 282 variables. Para este ejercicio, trabajaremos con un subconjunto de variables que nos permitir√°n realizar an√°lisis descriptivos b√°sicos.\n\n### Selecci√≥n y preparaci√≥n de variables\n\nPara facilitar nuestro trabajo, seleccionaremos y renombraremos algunas variables clave. Adicionalmente, filtraremos la base de datos para observaciones que cumplan con 1) estar ocupados y 2) tener ingreso totales del trabajo. Finalmente, re-escribiremos sobre la base de datos, algo que no es recomendable, pero dado que no volveremos a usar `esi2024` no habr√° problemas en este caso. \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Seleccionar y preparar variables de inter√©s\nesi2024 <- esi2024 |> \n  select(\n    sexo,           # Sexo de la persona\n    edad,           # Edad en a√±os cumplidos\n    nivel,          # Nivel educacional m√°s alto alcanzado\n    ing_t_t,        # Ingreso total del trabajo\n    activ,          # Condici√≥n de actividad\n    region          # Regi√≥n de residencia\n  ) |> \n  # Filtrar solo personas ocupadas con ingresos v√°lidos\n  filter(\n    activ == 1,           # Solo ocupados\n    !is.na(ing_t_t),      # Con dato de ingreso\n    ing_t_t > 0           # Ingresos positivos\n  ) |> \n  # Crear etiquetas descriptivas\n  mutate(\n    # Etiqueta para sexo\n    sexo_etiq = case_when(\n      sexo == 1 ~ \"Hombre\",\n      sexo == 2 ~ \"Mujer\",\n      TRUE ~ \"Otro\"\n    ),\n    # Recodificar nivel educacional en categor√≠as agregadas\n    nivel_etiq = case_when(\n      nivel == 0 ~ \"Sin educaci√≥n\",\n      nivel %in% c(1, 2, 3) ~ \"Secundaria incompleta\",\n      nivel %in% c(4, 5, 6) ~ \"Secundaria completa\",\n      nivel %in% c(7, 8, 9) ~ \"Superior\",\n      nivel %in% c(10, 11, 12) ~ \"Postgrado\",\n      TRUE ~ \"Otros\"\n    ),\n    nivel_etiq = factor(nivel_etiq, levels = c(\n      \"Sin educaci√≥n\", \"Secundaria incompleta\", \"Secundaria completa\",\n      \"Superior\", \"Postgrado\", \"Otros\"\n    ))\n  )\n\n# Verificar dimensiones de la base filtrada\ndim(esi2024)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 34827     8\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-note}\n## Nota sobre el filtrado\nHemos filtrado la base para trabajar solo con personas **ocupadas** (`activ == 1`) que reportan ingresos del trabajo v√°lidos. Esto es importante porque:\n\n1. Los ingresos del trabajo solo aplican a personas que trabajan\n2. Los valores `NA` o cero en ingresos podr√≠an indicar no respuesta o situaciones especiales\n3. Para an√°lisis de brechas salariales, necesitamos comparar personas que efectivamente est√°n en el mercado laboral\n:::\n\n---\n\n## 5. Estad√≠stica Descriptiva: Medidas de Tendencia Central\n\nLa estad√≠stica descriptiva nos permite resumir y organizar grandes vol√∫menes de datos en medidas que facilitan su comprensi√≥n. Comenzaremos con las **medidas de tendencia central**, que nos indican d√≥nde se \"centra\" la distribuci√≥n de nuestros datos.\n\n### 5.1 La Media (Promedio)\n\nLa media aritm√©tica es la medida de tendencia central m√°s utilizada. Se calcula sumando todos los valores y dividiendo por el n√∫mero de observaciones:\n\n$$\n\\bar{x} = \\frac{\\sum_{i=1}^{n} x_i}{n}\n$$\n\nEn R, la funci√≥n `mean()` nos permite calcularla f√°cilmente:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ingreso promedio mensual\ningreso_promedio <- mean(esi2024$ing_t_t, na.rm = TRUE)\n\n# Mostrar con formato\npaste(\"El ingreso promedio mensual es:\", \n      scales::dollar(ingreso_promedio, big.mark = \".\", \n                     decimal.mark = \",\", prefix = \"$\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"El ingreso promedio mensual es: $774.622\"\n```\n\n\n:::\n:::\n\n\n\n\nLa media es √∫til porque **usa toda la informaci√≥n disponible** (cada observaci√≥n contribuye al c√°lculo). Sin embargo, tiene una limitaci√≥n importante: **es sensible a valores extremos** (outliers).\n\n### 5.2 La Mediana\n\nLa mediana es el valor que divide la distribuci√≥n en dos mitades iguales: 50% de las observaciones est√°n por debajo y 50% por encima. Es m√°s **robusta** a valores extremos que la media.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ingreso mediano mensual\ningreso_mediano <- median(esi2024$ing_t_t, na.rm = TRUE)\n\npaste(\"El ingreso mediano mensual es:\", \n      scales::dollar(ingreso_mediano, big.mark = \".\", \n                     decimal.mark = \",\", prefix = \"$\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"El ingreso mediano mensual es: $575.557\"\n```\n\n\n:::\n:::\n\n\n\n\n### 5.3 Comparaci√≥n: Media vs Mediana\n\nComparemos ambas medidas:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear tabla comparativa\ntibble(\n  Medida = c(\"Media\", \"Mediana\", \"Diferencia\", \"% Diferencia\"),\n  Valor = c(\n    scales::dollar(ingreso_promedio, big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    scales::dollar(ingreso_mediano, big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    scales::dollar(ingreso_promedio - ingreso_mediano, big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    paste0(round(((ingreso_promedio - ingreso_mediano)/ingreso_mediano)*100, 1), \"%\")\n  )\n) |> \n  kable(caption = \"Comparaci√≥n entre media y mediana de ingresos\")\n```\n\n::: {.cell-output-display}\n\n\nTable: Comparaci√≥n entre media y mediana de ingresos\n\n|Medida       |Valor    |\n|:------------|:--------|\n|Media        |$774.622 |\n|Mediana      |$575.557 |\n|Diferencia   |$199.065 |\n|% Diferencia |34.6%    |\n\n\n:::\n:::\n\n\n\n\n**Interpretaci√≥n:** La diferencia entre media y mediana nos indica que la distribuci√≥n de ingresos est√° **sesgada hacia la derecha** (positivamente). Esto significa que hay algunas personas con ingresos muy altos que \"jalan\" la media hacia arriba, mientras que la mediana nos da una mejor idea del ingreso \"t√≠pico\" de una persona en Chile.\n\n::: {.callout-important}\n## ¬øCu√°ndo usar media o mediana?\n\n- **Usa la media** cuando:\n  - La distribuci√≥n es aproximadamente sim√©trica\n  - No hay valores extremos (outliers)\n  - Necesitas usar toda la informaci√≥n disponible (ej: calcular promedios)\n\n- **Usa la mediana** cuando:\n  - La distribuci√≥n tiene sesgo (asim√©trica)\n  - Hay valores extremos que pueden distorsionar la media\n  - Quieres saber el valor \"t√≠pico\" (ej: salario mediano)\n:::\n\n### 5.4 Visualizando media y mediana\n\nUn histograma nos ayuda a visualizar esta diferencia:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear histograma con l√≠neas de tendencia central\nesi2024 |> \n  ggplot(aes(x = ing_t_t)) +\n  geom_histogram(bins = 50, fill = \"#2A5783\", alpha = 0.7, color = \"white\") +\n  geom_vline(aes(xintercept = ingreso_promedio, color = \"Media\"), \n             linewidth = 1.2, linetype = \"dashed\") +\n  geom_vline(aes(xintercept = ingreso_mediano, color = \"Mediana\"), \n             linewidth = 1.2, linetype = \"dashed\") +\n  scale_x_continuous(\n    labels = scales::dollar_format(big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    limits = c(0, 3000000)  # Limitar eje x para mejor visualizaci√≥n\n  ) +\n  scale_color_manual(\n    name = \"Medidas de\\ntendencia central\",\n    values = c(\"Media\" = \"#9C0824\", \"Mediana\" = \"#09622A\")\n  ) +\n  labs(\n    title = \"Distribuci√≥n de Ingresos del Trabajo en Chile (ESI 2024)\",\n    subtitle = \"Solo personas ocupadas con ingresos reportados\",\n    x = \"Ingreso mensual del trabajo\",\n    y = \"Frecuencia (n√∫mero de personas)\",\n    caption = \"Fuente: INE, Encuesta Suplementaria de Ingresos 2024\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    legend.position = \"right\"\n  )\n```\n\n::: {.cell-output-display}\n![Distribuci√≥n de ingresos del trabajo con media y mediana](01-intro_files/figure-html/fig-dist-ingresos-1.png){#fig-dist-ingresos width=960}\n:::\n:::\n\n\n\n\n**Observaciones del gr√°fico:**\n- La mayor√≠a de las personas se concentra en ingresos m√°s bajos\n- La distribuci√≥n tiene una \"cola\" hacia la derecha (ingresos altos)\n- La mediana (l√≠nea verde) est√° m√°s cerca del centro de la concentraci√≥n de personas\n- La media (l√≠nea roja) est√° desplazada hacia la derecha por efecto de los ingresos altos\n\n---\n\n## 6. An√°lisis por grupos: Estad√≠stica descriptiva bivariada\n\nUna de las aplicaciones m√°s √∫tiles de la estad√≠stica descriptiva es **comparar grupos**. Por ejemplo, ¬øexisten diferencias en los ingresos seg√∫n el sexo de las personas? ¬øO seg√∫n su nivel educacional?\n\n### 6.1 Ingresos por sexo\n\nCalculemos las medidas de tendencia central separadas por sexo:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Estad√≠sticas por sexo\nesi2024 |> \n  group_by(sexo_etiq) |> \n  summarise(\n    n = n(),\n    Media = mean(ing_t_t, na.rm = TRUE),\n    Mediana = median(ing_t_t, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |> \n  mutate(\n    Media = scales::dollar(Media, big.mark = \".\", \n                           decimal.mark = \",\", prefix = \"$\"),\n    Mediana = scales::dollar(Mediana, big.mark = \".\", decimal.mark = \",\", prefix = \"$\")\n  ) |> \n  kable(\n    caption = \"Ingresos del trabajo por sexo\",\n    col.names = c(\"Sexo\", \"N\", \"Ingreso Promedio\", \"Ingreso Mediano\")\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Ingresos del trabajo por sexo\n\n|Sexo   |     N|Ingreso Promedio |Ingreso Mediano |\n|:------|-----:|:----------------|:---------------|\n|Hombre | 19344|$857.137         |$600.000        |\n|Mujer  | 15483|$671.531         |$504.875        |\n\n\n:::\n:::\n\n\n\n\n::: {.callout-warning}\n## Brecha salarial de g√©nero\nLos datos muestran una diferencia significativa en los ingresos entre hombres y mujeres. Esta es la llamada **brecha salarial de g√©nero**, un fen√≥meno persistente en Chile y el mundo que tiene m√∫ltiples causas (segregaci√≥n ocupacional, discriminaci√≥n, interrupciones en trayectorias laborales, etc.).\n:::\n\n### 6.2 Visualizaci√≥n de la brecha\n\nPodemos visualizar esta diferencia con un boxplot:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nesi2024 |> \n  ggplot(aes(x = sexo_etiq, y = ing_t_t, fill = sexo_etiq)) +\n  geom_boxplot(alpha = 0.7, outlier.alpha = 0.3) +\n  scale_y_continuous(\n    labels = scales::dollar_format(big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    limits = c(0, 2500000)\n  ) +\n  scale_fill_manual(values = c(\"Hombre\" = \"#4292c6\", \"Mujer\" = \"#ef3b2c\")) +\n  labs(\n    title = \"Distribuci√≥n de Ingresos del Trabajo por Sexo\",\n    subtitle = \"Chile, 2024\",\n    x = NULL,\n    y = \"Ingreso mensual del trabajo\",\n    caption = \"Fuente: INE, ESI 2024\\nNota: Se excluyen outliers extremos para mejor visualizaci√≥n\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 14)\n  )\n```\n\n::: {.cell-output-display}\n![Distribuci√≥n de ingresos por sexo](01-intro_files/figure-html/fig-boxplot-sexo-1.png){#fig-boxplot-sexo width=960}\n:::\n:::\n\n\n\n\n**Lectura del boxplot:**\n- La l√≠nea horizontal dentro de la caja es la **mediana**\n- Los bordes de la caja representan el **25% y 75%** de los datos (rango intercuart√≠lico)\n- Los \"bigotes\" se extienden hasta aproximadamente 1.5 veces el rango intercuart√≠lico\n- Los puntos son **valores at√≠picos** (outliers)\n\n---\n\n## 7. Tablas de frecuencia con datos reales\n\nLas tablas de frecuencia son fundamentales para resumir variables categ√≥ricas. Veamos algunos ejemplos con la ESI.\n\n### 7.1 Distribuci√≥n por nivel educacional\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Tabla de frecuencias\ntabla_educ <- esi2024 |> \n  count(nivel_etiq, name = \"Frecuencia\") |> \n  mutate(\n    Porcentaje = round((Frecuencia / sum(Frecuencia)) * 100, 1),\n    `Porcentaje acumulado` = cumsum(Porcentaje)\n  )\n\ntabla_educ |> \n  kable(\n    caption = \"Distribuci√≥n de personas ocupadas por nivel educacional\",\n    col.names = c(\"Nivel Educacional\", \"Frecuencia\", \"Porcentaje\", \"% Acumulado\")\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Distribuci√≥n de personas ocupadas por nivel educacional\n\n|Nivel Educacional     | Frecuencia| Porcentaje| % Acumulado|\n|:---------------------|----------:|----------:|-----------:|\n|Sin educaci√≥n         |        166|        0.5|         0.5|\n|Secundaria incompleta |       5461|       15.7|        16.2|\n|Secundaria completa   |      15066|       43.3|        59.5|\n|Superior              |      12981|       37.3|        96.8|\n|Postgrado             |       1100|        3.2|       100.0|\n|Otros                 |         53|        0.2|       100.2|\n\n\n:::\n:::\n\n\n\n\n### 7.2 Visualizaci√≥n de la distribuci√≥n educacional\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nesi2024 |> \n  filter(!is.na(nivel_etiq)) |> \n  count(nivel_etiq) |> \n  mutate(\n    porcentaje = (n / sum(n)) * 100,\n    nivel_etiq = fct_reorder(nivel_etiq, n)\n  ) |> \n  ggplot(aes(x = nivel_etiq, y = porcentaje)) +\n  geom_col(fill = \"#E9C6EF\", alpha = 0.8) +\n  geom_text(aes(label = paste0(round(porcentaje, 1), \"%\")), \n            hjust = -0.2, size = 3.5) +\n  coord_flip() +\n  scale_y_continuous(expand = expansion(mult = c(0, 0.1))) +  # Deja espacio para etiquetas\n  labs(\n    title = \"Distribuci√≥n de Personas Ocupadas por Nivel Educacional\",\n    subtitle = \"Chile, 2024\",\n    x = NULL,\n    y = \"Porcentaje\",\n    caption = \"Fuente: INE, ESI 2024\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    panel.grid.major.y = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![Distribuci√≥n de nivel educacional](01-intro_files/figure-html/fig-educacion-1.png){#fig-educacion width=960}\n:::\n:::\n\n\n\n\n### 7.3 Tabla de contingencia: Sexo x Nivel educacional\n\nLas **tablas de contingencia** (o tablas cruzadas) nos permiten analizar la relaci√≥n entre dos variables categ√≥ricas:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Tabla de contingencia\ntabla_sexo_educ <- esi2024 |> \n  filter(!is.na(nivel_etiq)) |> \n  count(sexo_etiq, nivel_etiq) |> \n  pivot_wider(names_from = sexo_etiq, values_from = n, values_fill = 0)\n\ntabla_sexo_educ |> \n  kable(caption = \"Distribuci√≥n de nivel educacional por sexo\")\n```\n\n::: {.cell-output-display}\n\n\nTable: Distribuci√≥n de nivel educacional por sexo\n\n|nivel_etiq            | Hombre| Mujer|\n|:---------------------|------:|-----:|\n|Sin educaci√≥n         |    109|    57|\n|Secundaria incompleta |   3565|  1896|\n|Secundaria completa   |   8838|  6228|\n|Superior              |   6249|  6732|\n|Postgrado             |    550|   550|\n|Otros                 |     33|    20|\n\n\n:::\n:::\n\n\n\n\nPodemos tambi√©n ver las proporciones por fila (qu√© % de cada nivel educacional es hombre/mujer):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Proporciones por fila\nesi2024 |> \n  filter(!is.na(nivel_etiq)) |> \n  count(nivel_etiq, sexo_etiq) |> \n  group_by(nivel_etiq) |> \n  mutate(\n    prop = n / sum(n) * 100\n  ) |> \n  select(-n) |> \n  pivot_wider(names_from = sexo_etiq, values_from = prop, values_fill = 0) |> \n  mutate(across(where(is.numeric), ~round(.x, 1))) |> \n  kable(\n    caption = \"Distribuci√≥n porcentual por sexo dentro de cada nivel educacional\",\n    col.names = c(\"Nivel Educacional\", \"% Hombres\", \"% Mujeres\")\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Distribuci√≥n porcentual por sexo dentro de cada nivel educacional\n\n|Nivel Educacional     | % Hombres| % Mujeres|\n|:---------------------|---------:|---------:|\n|Sin educaci√≥n         |      65.7|      34.3|\n|Secundaria incompleta |      65.3|      34.7|\n|Secundaria completa   |      58.7|      41.3|\n|Superior              |      48.1|      51.9|\n|Postgrado             |      50.0|      50.0|\n|Otros                 |      62.3|      37.7|\n\n\n:::\n:::\n\n\n\n\n---\n\n## 8. Ingresos por nivel educacional\n\nUn an√°lisis cl√°sico en econom√≠a laboral es examinar c√≥mo los ingresos var√≠an seg√∫n el nivel educacional (el **retorno** a la educaci√≥n):\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ingresos promedio por nivel educacional\nesi2024 |> \n  filter(!is.na(nivel_etiq)) |> \n  group_by(nivel_etiq) |> \n  summarise(\n    n = n(),\n    Ingreso_Promedio = mean(ing_t_t, na.rm = TRUE),\n    Ingreso_Mediano = median(ing_t_t, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |> \n  mutate(\n    Ingreso_Promedio = scales::dollar(Ingreso_Promedio, big.mark = \".\", decimal.mark = \",\", prefix = \"$\"),\n    Ingreso_Mediano = scales::dollar(Ingreso_Mediano, big.mark = \".\", decimal.mark = \",\", prefix = \"$\")\n  ) |> \n  kable(\n    caption = \"Ingresos del trabajo por nivel educacional\",\n    col.names = c(\"Nivel Educacional\", \"N\", \"Ingreso Promedio\", \"Ingreso Mediano\")\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Ingresos del trabajo por nivel educacional\n\n|Nivel Educacional     |     N|Ingreso Promedio |Ingreso Mediano |\n|:---------------------|-----:|:----------------|:---------------|\n|Sin educaci√≥n         |   166|$319.337         |$314.601        |\n|Secundaria incompleta |  5461|$441.101         |$450.000        |\n|Secundaria completa   | 15066|$578.974         |$504.875        |\n|Superior              | 12981|$1.035.382       |$798.005        |\n|Postgrado             |  1100|$2.121.641       |$1.700.000      |\n|Otros                 |    53|$357.957         |$370.000        |\n\n\n:::\n:::\n\n\n\n\n### Visualizaci√≥n: Ingresos por educaci√≥n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nesi2024 |> \n  filter(!is.na(nivel_etiq)) |> \n  group_by(nivel_etiq) |> \n  summarise(\n    ingreso_mediano = median(ing_t_t, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |> \n  mutate(nivel_etiq = fct_reorder(nivel_etiq, ingreso_mediano)) |> \n  ggplot(aes(x = nivel_etiq, y = ingreso_mediano)) +\n  geom_col(fill = \"#69000C\", alpha = 0.7) +\n  geom_text(\n    aes(label = scales::dollar(ingreso_mediano, big.mark = \".\", prefix = \"$\", accuracy = 1)),\n    hjust = -0.1, size = 3\n  ) +\n  coord_flip() +\n  scale_y_continuous(\n    labels = scales::dollar_format(big.mark = \".\", prefix = \"$\"),\n    limits = c(0, max(esi2024 |> \n                        filter(!is.na(nivel_etiq)) |> \n                        group_by(nivel_etiq) |> \n                        summarise(med = median(ing_t_t, na.rm = TRUE)) |> \n                        pull(med)) * 1.15),\n    expand = c(0, 0)\n  ) +\n  labs(\n    title = \"Ingreso Mediano del Trabajo por Nivel Educacional\",\n    subtitle = \"Chile, 2024\",\n    x = NULL,\n    y = \"Ingreso mediano mensual\",\n    caption = \"Fuente: INE, ESI 2024\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    panel.grid.major.y = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![Ingresos medianos por nivel educacional](01-intro_files/figure-html/fig-ingresos-educacion-1.png){#fig-ingresos-educacion width=960}\n:::\n:::\n\n\n\n\n::: {.callout-tip}\n## Interpretaci√≥n\nObservamos una clara **relaci√≥n positiva** entre nivel educacional e ingresos: a mayor educaci√≥n, mayores ingresos medianos. Este es uno de los hallazgos m√°s robustos en econom√≠a laboral y justifica (en parte) la inversi√≥n en educaci√≥n como una forma de movilidad social.\n\nSin embargo, noten que el \"salto\" m√°s grande est√° en los niveles m√°s altos de educaci√≥n (de media completa a superior y de superior a postgrado). ¬øPor qu√© se produce este salto? ¬øEs solo por un aumento lineal (exponencial en rigor) en el ingreso *en funci√≥n* de los a√±os estudiando, o bien hay algo que impacta en el salario y no se puede ver en el gr√°fico?\n:::\n\n---\n\n## 9. Ejercicios pr√°cticos\n\nAhora es tu turno de practicar con el dataframe simulado `encuesta`. Estos ejercicios te ayudar√°n a consolidar los conceptos aprendidos.\n\nPrimero, creemos el dataframe de pr√°ctica:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Simular datos de encuesta para ejercicios\nset.seed(123)  # Para reproducibilidad\n\nencuesta <- data.frame(\n  id = 1:100,\n  edad = sample(18:65, 100, replace = TRUE),\n  sexo = sample(c(\"Mujer\", \"Hombre\"), 100, \n                replace = TRUE, prob = c(0.52, 0.48)),\n  educacion = sample(c(\"B√°sica\", \"Media\", \"T√©cnica\", \"Universitaria\", \"Postgrado\"), \n                     100, replace = TRUE, \n                     prob = c(0.10, 0.30, 0.25, 0.30, 0.05)),\n  satisfaccion = sample(1:7, 100, replace = TRUE),\n  ingreso = round(rnorm(100, mean = 800000, sd = 300000), -3)\n)\n\n# Vista previa\nhead(encuesta, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   id edad   sexo     educacion satisfaccion ingreso\n1   1   48 Hombre        B√°sica            2  790000\n2   2   32 Hombre       T√©cnica            4  503000\n3   3   31 Hombre Universitaria            2  864000\n4   4   20 Hombre Universitaria            1  508000\n5   5   59 Hombre         Media            5  965000\n6   6   60 Hombre         Media            5  485000\n7   7   54 Hombre Universitaria            1  935000\n8   8   31 Hombre         Media            7  684000\n9   9   42 Hombre       T√©cnica            1  329000\n10 10   43 Hombre         Media            5 1168000\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n::: {.callout-tip}\n## Ejercicio 1: Calcular estad√≠sticos b√°sicos\n\nUsando los datos de `encuesta`:\n\na) Calcula la edad promedio y mediana\nb) Calcula el ingreso promedio y mediano\nc) ¬øCu√°l es la satisfacci√≥n promedio?\nd) Interpreta: ¬øLa distribuci√≥n de ingresos est√° sesgada? ¬øC√≥mo lo sabes?\n\n**Pista:** Usa las funciones `mean()` y `median()`. Compara los resultados.\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# a) Edad\nmean(encuesta$edad)\nmedian(encuesta$edad)\n\n# b) Ingreso\n\n\n# c) Satisfacci√≥n\n\n\n# d) Interpretaci√≥n\n# Escribe tu respuesta aqu√≠\n```\n:::\n\n\n\n\n::: {.callout-tip collapse=\"true\"}\n## Soluci√≥n Ejercicio 1\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a) Edad promedio y mediana\ncat(\"Edad promedio:\", round(mean(encuesta$edad), 1), \"a√±os\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nEdad promedio: 41.7 a√±os\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Edad mediana:\", median(encuesta$edad), \"a√±os\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nEdad mediana: 42.5 a√±os\n```\n\n\n:::\n\n```{.r .cell-code}\n# b) Ingreso promedio y mediano\ncat(\"Ingreso promedio:\", scales::dollar(mean(encuesta$ingreso), prefix = \"$\", big.mark = \".\"), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nIngreso promedio: $782.700 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Ingreso mediano:\", scales::dollar(median(encuesta$ingreso), prefix = \"$\", big.mark = \".\"), \"\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nIngreso mediano: $798.000 \n```\n\n\n:::\n\n```{.r .cell-code}\n# c) Satisfacci√≥n promedio\ncat(\"Satisfacci√≥n promedio:\", round(mean(encuesta$satisfaccion), 2), \"(escala 1-7)\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSatisfacci√≥n promedio: 3.92 (escala 1-7)\n```\n\n\n:::\n\n```{.r .cell-code}\n# d) Interpretaci√≥n\ncat(\"Interpretaci√≥n:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nInterpretaci√≥n:\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Media:\", scales::dollar(mean(encuesta$ingreso), prefix = \"$\", big.mark = \".\"), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nMedia: $782.700 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Mediana:\", scales::dollar(median(encuesta$ingreso), prefix = \"$\", big.mark = \".\"), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nMediana: $798.000 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"\\nLa media es\", \n    ifelse(mean(encuesta$ingreso) > median(encuesta$ingreso), \"mayor\", \"menor\"),\n    \"que la mediana, lo que sugiere un sesgo\",\n    ifelse(mean(encuesta$ingreso) > median(encuesta$ingreso), \"positivo (hacia la derecha)\", \"negativo (hacia la izquierda)\"),\n    \"en la distribuci√≥n de ingresos.\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nLa media es menor que la mediana, lo que sugiere un sesgo negativo (hacia la izquierda) en la distribuci√≥n de ingresos.\n```\n\n\n:::\n:::\n\n\n\n:::\n\n---\n\n::: {.callout-tip}\n## Ejercicio 2: Tabla de frecuencias\n\nCrea una tabla de frecuencias para la variable `educacion` que incluya:\n- Frecuencia absoluta\n- Frecuencia relativa (porcentaje)\n- Porcentaje acumulado\n\n**Pista:** Usa `table()`, `prop.table()` y `cumsum()`\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Tu c√≥digo aqu√≠\n# 1. Crear tabla de frecuencias absolutas\n\n\n# 2. Calcular porcentajes\n\n\n# 3. Agregar porcentaje acumulado\n\n\n# 4. Presentar en formato tabla (usa kable)\n```\n:::\n\n\n\n\n::: {.callout-tip collapse=\"true\"}\n## Soluci√≥n Ejercicio 2\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Crear tabla de frecuencias completa\ntabla_educ <- as.data.frame(table(encuesta$educacion))\ncolnames(tabla_educ) <- c(\"Nivel_Educacional\", \"Frecuencia\")\n\ntabla_educ <- tabla_educ |> \n  mutate(\n    Porcentaje = round((Frecuencia / sum(Frecuencia)) * 100, 1),\n    Porcentaje_Acumulado = cumsum(Porcentaje)\n  )\n\n# Mostrar con kable\nkable(\n  tabla_educ,\n  caption = \"Distribuci√≥n de nivel educacional\",\n  col.names = c(\"Nivel Educacional\", \"Frecuencia\", \"Porcentaje (%)\", \"% Acumulado\")\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Distribuci√≥n de nivel educacional\n\n|Nivel Educacional | Frecuencia| Porcentaje (%)| % Acumulado|\n|:-----------------|----------:|--------------:|-----------:|\n|B√°sica            |          8|              8|           8|\n|Media             |         35|             35|          43|\n|Postgrado         |          6|              6|          49|\n|T√©cnica           |         25|             25|          74|\n|Universitaria     |         26|             26|         100|\n\n\n:::\n:::\n\n\n\n:::\n\n---\n\n::: {.callout-tip}\n## Ejercicio 3: Tabla de contingencia\n\nCrea una tabla de contingencia entre `sexo` y `educacion`.\n\na) ¬øCu√°ntos hombres tienen educaci√≥n universitaria?\nb) ¬øCu√°ntas mujeres tienen educaci√≥n media?\nc) Calcula las proporciones por fila (% dentro de cada sexo)\nd) ¬øQu√© porcentaje de las mujeres tiene educaci√≥n universitaria?\n\n**Pista:** Usa `table()` y `prop.table()` con `margin = 1` para proporciones por fila\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# a) y b) Crear tabla de contingencia\n\n\n# c) Proporciones por fila\n\n\n# d) Interpretaci√≥n\n```\n:::\n\n\n\n\n::: {.callout-tip collapse=\"true\"}\n## Soluci√≥n Ejercicio 3\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a) y b) Tabla de contingencia\ntabla_sexo_educ <- table(encuesta$sexo, encuesta$educacion)\nprint(\"Tabla de contingencia: Sexo x Educaci√≥n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Tabla de contingencia: Sexo x Educaci√≥n\"\n```\n\n\n:::\n\n```{.r .cell-code}\ntabla_sexo_educ\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        \n         B√°sica Media Postgrado T√©cnica Universitaria\n  Hombre      4    19         0      14            11\n  Mujer       4    16         6      11            15\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"\\na) Hombres con educaci√≥n universitaria:\", tabla_sexo_educ[\"Hombre\", \"Universitaria\"], \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\na) Hombres con educaci√≥n universitaria: 11 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"b) Mujeres con educaci√≥n media:\", tabla_sexo_educ[\"Mujer\", \"Media\"], \"\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nb) Mujeres con educaci√≥n media: 16 \n```\n\n\n:::\n\n```{.r .cell-code}\n# c) Proporciones por fila (% dentro de cada sexo)\nprop_fila <- prop.table(tabla_sexo_educ, margin = 1) * 100\nprint(\"Porcentajes por sexo:\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Porcentajes por sexo:\"\n```\n\n\n:::\n\n```{.r .cell-code}\nround(prop_fila, 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        \n         B√°sica Media Postgrado T√©cnica Universitaria\n  Hombre    8.3  39.6       0.0    29.2          22.9\n  Mujer     7.7  30.8      11.5    21.2          28.8\n```\n\n\n:::\n\n```{.r .cell-code}\n# d) Porcentaje de mujeres con educaci√≥n universitaria\ncat(\"\\nd) Porcentaje de mujeres con educaci√≥n universitaria:\", \n    round(prop_fila[\"Mujer\", \"Universitaria\"], 1), \"%\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nd) Porcentaje de mujeres con educaci√≥n universitaria: 28.8 %\n```\n\n\n:::\n:::\n\n\n\n:::\n\n## Ejercicio 4: An√°lisis de ingresos por grupo\n\nAhora realizaremos un an√°lisis m√°s complejo, comparando ingresos entre diferentes grupos.\n\n::: {.callout-tip}\n## Ejercicio 4: Ingresos por sexo y educaci√≥n\n\nUsando el dataframe `encuesta`:\n\na) Calcula el ingreso promedio y mediano por sexo\nb) Calcula el ingreso promedio por nivel educacional\nc) Crea un gr√°fico de boxplot comparando ingresos entre hombres y mujeres\nd) Interpreta: ¬øExiste una brecha salarial en estos datos simulados?\n\n**Pista:** Usa `group_by()` y `summarise()` de `dplyr`, y `ggplot()` para el gr√°fico\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# a) Ingresos por sexo\nencuesta |> \n  group_by(sexo) |> \n  summarise(\n    # completar aqu√≠\n  )\n\n# b) Ingresos por educaci√≥n\n\n\n# c) Boxplot\n\n\n# d) Interpretaci√≥n\n# Escribe tu an√°lisis aqu√≠\n```\n:::\n\n\n\n\n::: {.callout-tip collapse=\"true\"}\n## Soluci√≥n Ejercicio 4\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# a) Ingresos por sexo\ncat(\"=== Ingresos por sexo ===\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n=== Ingresos por sexo ===\n```\n\n\n:::\n\n```{.r .cell-code}\nresumen_sexo <- encuesta |> \n  group_by(sexo) |> \n  summarise(\n    n = n(),\n    Ingreso_Promedio = mean(ingreso, na.rm = TRUE),\n    Ingreso_Mediano = median(ingreso, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |> \n  mutate(\n    Ingreso_Promedio = scales::dollar(Ingreso_Promedio, prefix = \"$\", big.mark = \".\"),\n    Ingreso_Mediano = scales::dollar(Ingreso_Mediano, prefix = \"$\", big.mark = \".\")\n  )\n\nkable(resumen_sexo, \n      caption = \"Ingresos por sexo\",\n      col.names = c(\"Sexo\", \"N\", \"Ingreso Promedio\", \"Ingreso Mediano\"))\n```\n\n::: {.cell-output-display}\n\n\nTable: Ingresos por sexo\n\n|Sexo   |  N|Ingreso Promedio |Ingreso Mediano |\n|:------|--:|:----------------|:---------------|\n|Hombre | 48|$754.229         |$806.000        |\n|Mujer  | 52|$808.981         |$798.000        |\n\n\n:::\n\n```{.r .cell-code}\n# b) Ingresos por educaci√≥n\ncat(\"\\n=== Ingresos por nivel educacional ===\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n=== Ingresos por nivel educacional ===\n```\n\n\n:::\n\n```{.r .cell-code}\nresumen_educ <- encuesta |> \n  group_by(educacion) |> \n  summarise(\n    n = n(),\n    Ingreso_Promedio = mean(ingreso, na.rm = TRUE),\n    Ingreso_Mediano = median(ingreso, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |> \n  arrange(desc(Ingreso_Mediano)) |> \n  mutate(\n    Ingreso_Promedio = scales::dollar(Ingreso_Promedio, prefix = \"$\", big.mark = \".\"),\n    Ingreso_Mediano = scales::dollar(Ingreso_Mediano, prefix = \"$\", big.mark = \".\")\n  )\n\nkable(resumen_educ,\n      caption = \"Ingresos por nivel educacional\",\n      col.names = c(\"Educaci√≥n\", \"N\", \"Ingreso Promedio\", \"Ingreso Mediano\"))\n```\n\n::: {.cell-output-display}\n\n\nTable: Ingresos por nivel educacional\n\n|Educaci√≥n     |  N|Ingreso Promedio |Ingreso Mediano |\n|:-------------|--:|:----------------|:---------------|\n|Postgrado     |  6|$922.500         |$977.500        |\n|Universitaria | 26|$836.269         |$899.500        |\n|Media         | 35|$804.800         |$866.000        |\n|B√°sica        |  8|$764.500         |$854.500        |\n|T√©cnica       | 25|$668.320         |$696.000        |\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# c) Boxplot de ingresos por sexo\nggplot(encuesta, aes(x = sexo, y = ingreso, fill = sexo)) +\n  geom_boxplot(alpha = 0.7) +\n  scale_y_continuous(\n    labels = scales::dollar_format(prefix = \"$\", big.mark = \".\")\n  ) +\n  scale_fill_manual(values = c(\"Hombre\" = \"#4292c6\", \"Mujer\" = \"#ef3b2c\")) +\n  labs(\n    title = \"Distribuci√≥n de Ingresos por Sexo\",\n    subtitle = \"Datos simulados de encuesta\",\n    x = NULL,\n    y = \"Ingreso mensual\",\n    caption = \"Fuente: Datos simulados para ejercicio\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 13)\n  )\n```\n\n::: {.cell-output-display}\n![Comparaci√≥n de ingresos por sexo](01-intro_files/figure-html/solucion-4-grafico-1.png){width=768}\n:::\n\n```{.r .cell-code}\n# d) Interpretaci√≥n\ncat(\"\\n=== Interpretaci√≥n ===\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n=== Interpretaci√≥n ===\n```\n\n\n:::\n\n```{.r .cell-code}\nmedia_h <- mean(encuesta$ingreso[encuesta$sexo == \"Hombre\"])\nmedia_m <- mean(encuesta$ingreso[encuesta$sexo == \"Mujer\"])\nbrecha <- ((media_h - media_m) / media_h) * 100\n\ncat(\"En estos datos simulados:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nEn estos datos simulados:\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"- Ingreso promedio hombres:\", scales::dollar(media_h, prefix = \"$\", big.mark = \".\"), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- Ingreso promedio hombres: $754.229 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"- Ingreso promedio mujeres:\", scales::dollar(media_m, prefix = \"$\", big.mark = \".\"), \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- Ingreso promedio mujeres: $808.981 \n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"- Brecha salarial:\", round(brecha, 1), \"%\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n- Brecha salarial: -7.3 %\n```\n\n\n:::\n\n```{.r .cell-code}\nif (brecha > 5) {\n  cat(\"Existe una brecha salarial favorable a los hombres del\", round(brecha, 1), \"%.\\n\")\n  cat(\"Esto significa que, en promedio, las mujeres ganan\", \n      round(100 - (media_m/media_h * 100), 1), \n      \"% menos que los hombres en esta muestra simulada.\")\n} else if (brecha < -5) {\n  cat(\"Existe una brecha salarial favorable a las mujeres del\", round(abs(brecha), 1), \"%.\")\n} else {\n  cat(\"No se observa una brecha salarial significativa (diferencia menor al 5%).\")\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nExiste una brecha salarial favorable a las mujeres del 7.3 %.\n```\n\n\n:::\n:::\n\n\n\n:::\n\n---\n\n::: {.callout-tip}\n## Ejercicio 5: Visualizaci√≥n avanzada\n\nCrea un gr√°fico que muestre la distribuci√≥n de edad por nivel educacional.\n\nPuedes elegir entre:\n- Un histograma facetado por educaci√≥n\n- Un boxplot con educaci√≥n en el eje X y edad en el eje Y\n- Un gr√°fico de viol√≠n\n\n**Bonus:** Agrega t√≠tulos, etiquetas y personaliza los colores.\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Tu c√≥digo aqu√≠\n# Crea el gr√°fico que prefieras usando ggplot()\n```\n:::\n\n\n\n\n::: {.callout-tip collapse=\"true\"}\n## Soluci√≥n Ejercicio 5\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Opci√≥n 1: Boxplot\nggplot(encuesta, aes(x = educacion, y = edad, fill = educacion)) +\n  geom_boxplot(alpha = 0.7) +\n  geom_jitter(width = 0.2, alpha = 0.3, size = 0.8) +  # Agregar puntos individuales\n  scale_fill_brewer(palette = \"Set2\") +\n  labs(\n    title = \"Distribuci√≥n de Edad seg√∫n Nivel Educacional\",\n    subtitle = \"Datos simulados de encuesta (N=100)\",\n    x = \"Nivel Educacional\",\n    y = \"Edad (a√±os)\",\n    caption = \"Fuente: Datos simulados para ejercicio\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 13),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n```\n\n::: {.cell-output-display}\n![Distribuci√≥n de edad por nivel educacional (boxplot)](01-intro_files/figure-html/solucion-5-opcion1-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Opci√≥n 2: Gr√°fico de viol√≠n\nggplot(encuesta, aes(x = educacion, y = edad, fill = educacion)) +\n  geom_violin(alpha = 0.6, trim = FALSE) +\n  geom_boxplot(width = 0.1, alpha = 0.8, outlier.alpha = 0) +\n  scale_fill_viridis_d(option = \"plasma\") +\n  labs(\n    title = \"Distribuci√≥n de Edad seg√∫n Nivel Educacional\",\n    subtitle = \"Gr√°fico de viol√≠n con boxplot incorporado\",\n    x = \"Nivel Educacional\",\n    y = \"Edad (a√±os)\",\n    caption = \"Fuente: Datos simulados para ejercicio\\nEl ancho del viol√≠n representa la densidad de datos\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 13),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  )\n```\n\n::: {.cell-output-display}\n![Distribuci√≥n de edad por nivel educacional (viol√≠n)](01-intro_files/figure-html/solucion-5-opcion2-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Opci√≥n 3: Histogramas facetados\nggplot(encuesta, aes(x = edad, fill = educacion)) +\n  geom_histogram(bins = 15, alpha = 0.8, color = \"white\") +\n  facet_wrap(~educacion, ncol = 3) +\n  scale_fill_brewer(palette = \"Set1\") +\n  labs(\n    title = \"Distribuci√≥n de Edad por Nivel Educacional\",\n    subtitle = \"Histogramas separados para cada categor√≠a\",\n    x = \"Edad (a√±os)\",\n    y = \"Frecuencia\",\n    caption = \"Fuente: Datos simulados para ejercicio\"\n  ) +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(face = \"bold\", size = 13),\n    strip.text = element_text(face = \"bold\", size = 10)\n  )\n```\n\n::: {.cell-output-display}\n![Histogramas de edad por nivel educacional](01-intro_files/figure-html/solucion-5-opcion3-1.png){width=1152}\n:::\n:::\n\n\n\n:::\n\n---\n\n## 10. Resumen de la sesi√≥n\n\nEn esta primera sesi√≥n hemos cubierto aspectos fundamentales tanto de R como de estad√≠stica descriptiva:\n\n### ‚úÖ Conceptos de R aprendidos\n\n- **Interfaz de RStudio**: Navegaci√≥n entre paneles (Editor, Consola, Environment, Files/Plots)\n- **Operaciones b√°sicas**: R como calculadora avanzada\n- **Creaci√≥n de objetos**: Vectores, matrices y dataframes\n- **Operaciones vectoriales y matriciales**: Incluyendo √°lgebra lineal\n- **Importaci√≥n de datos**: Archivos CSV y Stata (.dta)\n- **Manipulaci√≥n de datos con `dplyr`**: \n  - `select()`: Seleccionar columnas\n  - `filter()`: Filtrar filas\n  - `mutate()`: Crear/modificar variables\n  - `group_by()` y `summarise()`: Agrupar y resumir\n  - Operador pipe `|>`: Encadenar operaciones\n- **Exploraci√≥n de datos**: `glimpse()`, `head()`, `str()`, `dim()`\n- **Visualizaci√≥n con `ggplot2`**: Histogramas, boxplots, gr√°ficos de barras\n\n### ‚úÖ Conceptos estad√≠sticos aprendidos\n\n- **Medidas de tendencia central**:\n  - Media: Promedio aritm√©tico, sensible a valores extremos\n  - Mediana: Valor central, robusta a outliers\n  - Cu√°ndo usar cada una seg√∫n la distribuci√≥n de los datos\n  \n- **Distribuciones asim√©tricas**: Interpretaci√≥n de sesgo positivo/negativo comparando media y mediana\n\n- **Tablas de frecuencia**:\n  - Frecuencias absolutas y relativas\n  - Frecuencias acumuladas\n  - Tablas de contingencia (cruce de dos variables)\n  - Proporciones por fila y columna\n\n- **An√°lisis bivariado descriptivo**:\n  - Comparaci√≥n de estad√≠sticos entre grupos\n  - Identificaci√≥n de brechas (ej: brecha salarial de g√©nero)\n  - Visualizaci√≥n de diferencias entre grupos\n\n- **Interpretaci√≥n de gr√°ficos**:\n  - Histogramas: Forma de la distribuci√≥n\n  - Boxplots: Mediana, rango intercuart√≠lico, outliers\n  - Gr√°ficos de barras: Frecuencias y proporciones\n\n### üéØ Aplicaciones pr√°cticas\n\nTrabajamos con dos bases de datos reales:\n1. **ENE (Encuesta Nacional de Empleo)**: C√°lculo de tasas de ocupaci√≥n\n2. **ESI (Encuesta Suplementaria de Ingresos)**: An√°lisis de ingresos, brechas salariales, y retornos a la educaci√≥n\n\nEstos an√°lisis nos permitieron ver c√≥mo la estad√≠stica descriptiva es fundamental para:\n- **Caracterizar** poblaciones y muestras\n- **Identificar** patrones y tendencias\n- **Comparar** grupos (g√©nero, educaci√≥n, edad)\n- **Comunicar** hallazgos de manera efectiva\n\n---\n\n## 11. Recursos adicionales\n\n### üìö Lecturas recomendadas\n\n**Sobre R:**\n- Wickham, H., & Grolemund, G. (2023). [*R para Ciencia de Datos*](https://es.r4ds.hadley.nz/). Cap√≠tulos 1-5 y 9-11.\n- Fern√°ndez-Avil√©s, G., & Montero, J.M. (2024). [*Ciencia de Datos en R*](https://cdr-book.github.io/index.html). Cap√≠tulos 1-3.\n- Wickham, H. (2019). [*Advanced R*](https://adv-r.hadley.nz/). Para profundizar en programaci√≥n orientada a objetos.\n\n**Sobre Estad√≠stica Descriptiva:**\n- Navarro, D. (2015). [*Learning Statistics with R*](https://learningstatisticswithr.com/). Cap√≠tulos 3-5.\n- Verzani, J. (2014). *Using R for Introductory Statistics*. Cap√≠tulos 1-4.\n\n**Documentaci√≥n oficial:**\n- [Documentaci√≥n de `dplyr`](https://dplyr.tidyverse.org/)\n- [Documentaci√≥n de `ggplot2`](https://ggplot2.tidyverse.org/)\n- [RStudio Cheatsheets](https://posit.co/resources/cheatsheets/) (especialmente Data Transformation y Data Visualization)\n\n### üé• Videos recomendados\n\n- [Introducci√≥n a RStudio (10 min)](https://www.youtube.com/watch?v=lVKMsaWju8w)\n- [R para principiantes - Tutorial completo](https://www.youtube.com/watch?v=_V8eKsto3Ug)\n- [Visualizaci√≥n de datos con ggplot2](https://www.youtube.com/watch?v=h29g21z0a68)\n\n### üíª Pr√°ctica interactiva\n\n- [Swirl - Learn R, in R](https://swirlstats.com/) - Tutorial interactivo dentro de R\n- [R for Data Science - Ejercicios](https://r4ds.hadley.nz/data-transform.html#exercises-9)\n- [DataCamp - Introduction to R (gratis)](https://www.datacamp.com/courses/free-introduction-to-r)\n\n### üîó Bases de datos para practicar\n\n- [Encuesta Nacional de Empleo (ENE) - INE Chile](https://www.ine.gob.cl/estadisticas/sociales/mercado-laboral/ocupacion-y-desocupacion)\n- [Encuesta Suplementaria de Ingresos (ESI) - INE Chile](https://www.ine.gob.cl/estadisticas/sociales/ingresos-y-gastos/encuesta-suplementaria-de-ingresos)\n- [CASEN - Ministerio de Desarrollo Social](http://observatorio.ministeriodesarrollosocial.gob.cl/encuesta-casen)\n- [Datasets incluidos en R](https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html)\n\n---\n\n## 12. Preparaci√≥n para la pr√≥xima sesi√≥n\n\nEn la **Sesi√≥n 2** continuaremos con estad√≠stica descriptiva, enfoc√°ndonos en:\n\n1. **Medidas de dispersi√≥n**:\n   - Rango, varianza, desviaci√≥n est√°ndar\n   - Rango intercuart√≠lico\n   - Coeficiente de variaci√≥n\n\n2. **Medidas de posici√≥n**:\n   - Cuartiles, deciles, percentiles\n   - Interpretaci√≥n y aplicaciones\n\n3. **Introducci√≥n a pruebas de hip√≥tesis**:\n   - Conceptos b√°sicos de inferencia estad√≠stica\n   - Distribuci√≥n normal\n   - Intervalos de confianza\n\n### üìù Tarea para la pr√≥xima sesi√≥n\n\n::: {.callout-important}\n## Tarea obligatoria\n\nElige **una** de las siguientes bases de datos y realiza un an√°lisis descriptivo b√°sico:\n\n**Opci√≥n 1: ENE (Encuesta Nacional de Empleo)**\n- Descarga: [ENE m√°s reciente](https://www.ine.gob.cl/estadisticas/sociales/mercado-laboral/ocupacion-y-desocupacion)\n- Analiza: Tasas de participaci√≥n laboral por regi√≥n y sexo\n\n**Opci√≥n 2: ESI (Encuesta Suplementaria de Ingresos)**\n- Ya usamos esta base en clase\n- Analiza: Ingresos por regi√≥n y sector econ√≥mico\n\n**Opci√≥n 3: Base de datos propia**\n- Si tienes datos de tu investigaci√≥n de mag√≠ster, √∫salos\n- Realiza an√°lisis descriptivo b√°sico\n\n**Entregables (documento .Rmd o .qmd):**\n\n1. Breve descripci√≥n de la base de datos (origen, a√±o, n¬∞ observaciones)\n2. Selecci√≥n de 3-4 variables de inter√©s\n3. An√°lisis descriptivo que incluya:\n   - Tablas de frecuencia para variables categ√≥ricas\n   - Medidas de tendencia central para variables num√©ricas\n   - Al menos 2 visualizaciones (gr√°ficos)\n4. Interpretaci√≥n de los resultados (2-3 p√°rrafos)\n\n**Formato de entrega:**\n- Archivo .Rmd o .qmd con c√≥digo y texto\n- Renderizado a HTML o PDF\n- Fecha l√≠mite: Antes de la Sesi√≥n 2\n:::\n\n### üí° Consejos para la tarea\n\n- Revisa el c√≥digo de esta sesi√≥n como referencia\n- Usa comentarios (`#`) para explicar tu c√≥digo\n- Sigue las buenas pr√°cticas: nombres descriptivos de objetos, c√≥digo indentado\n- Si tienes dudas, consulta la documentaci√≥n: `?nombre_funcion`\n- Practica el flujo: importar ‚Üí explorar ‚Üí limpiar ‚Üí analizar ‚Üí visualizar\n\n---\n\n## 13. C√≥digo completo de la sesi√≥n\n\nSi quieres replicar todo el an√°lisis de esta sesi√≥n, aqu√≠ est√° el c√≥digo completo:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Ver c√≥digo completo de la sesi√≥n\"}\n# ============================================\n# SESI√ìN 1: C√ìDIGO COMPLETO\n# Taller de M√©todos y T√©cnicas de Investigaci√≥n I\n# ============================================\n\n# 1. PREPARACI√ìN ----\nlibrary(tidyverse)\nlibrary(psych)\nlibrary(sjmisc)\nlibrary(haven)\noptions(scipen = 999)\n\n# 2. CARGAR ENE ----\ndatos <- read.csv(\"data-sesiones/ene-2025-07-jja.csv\",\n                  sep = \";\",\n                  encoding = \"Latin-1\",\n                  stringsAsFactors = FALSE)\n\n# Explorar\nglimpse(datos)\nfrq(datos$activ)\n\n# Calcular tasa de ocupaci√≥n (muestral)\ntoc_muestra <- datos |>\n  mutate(\n    oc = activ == 1,\n    may15 = edad >= 15\n  ) |>\n  filter(may15, !is.na(activ)) |>\n  summarise(toc = mean(oc)) |>\n  pull(toc)\n\ncat(\"Tasa de ocupaci√≥n muestral:\", round(toc_muestra * 100, 2), \"%\\n\")\n\n# 3. CARGAR ESI ----\nesi2024 <- haven::read_dta(\"https://www.ine.gob.cl/docs/default-source/encuesta-suplementaria-de-ingresos/bbdd/stata_esi/2024/esi_2024.dta?sfvrsn=627c0f59_4&download=true\")\n\n# Preparar datos\nesi_trabajo <- esi2024 |>\n  select(sexo, edad, nivel, ing_t_t, activ, region) |>\n  filter(activ == 1, !is.na(ing_t_t), ing_t_t > 0) |>\n  mutate(\n    sexo_etiq = case_when(\n      sexo == 1 ~ \"Hombre\",\n      sexo == 2 ~ \"Mujer\",\n      TRUE ~ \"Otro\"\n    ),\n    nivel_etiq = case_when(\n      nivel == 1 ~ \"Sin educaci√≥n\",\n      nivel == 2 ~ \"B√°sica incompleta\",\n      nivel == 3 ~ \"B√°sica completa\",\n      nivel == 4 ~ \"Media incompleta\",\n      nivel == 5 ~ \"Media completa\",\n      nivel == 6 ~ \"T√©cnica incompleta\",\n      nivel == 7 ~ \"T√©cnica completa\",\n      nivel == 8 ~ \"Universitaria incompleta\",\n      nivel == 9 ~ \"Universitaria completa\",\n      nivel == 10 ~ \"Postgrado\",\n      TRUE ~ \"Sin informaci√≥n\"\n    )\n  )\n\n# 4. ESTAD√çSTICA DESCRIPTIVA ----\n\n# Media y mediana de ingresos\nmean(esi_trabajo$ing_t_t)\nmedian(esi_trabajo$ing_t_t)\n\n# Por sexo\nesi_trabajo |>\n  group_by(sexo_etiq) |>\n  summarise(\n    n = n(),\n    Media = mean(ing_t_t),\n    Mediana = median(ing_t_t)\n  )\n\n# 5. VISUALIZACIONES ----\n\n# Histograma con media y mediana\nggplot(esi_trabajo, aes(x = ing_t_t)) +\n  geom_histogram(bins = 50, fill = \"steelblue\", alpha = 0.7) +\n  geom_vline(aes(xintercept = mean(ing_t_t), color = \"Media\"),\n             linewidth = 1.2, linetype = \"dashed\") +\n  geom_vline(aes(xintercept = median(ing_t_t), color = \"Mediana\"),\n             linewidth = 1.2, linetype = \"dashed\") +\n  scale_x_continuous(limits = c(0, 3000000)) +\n  theme_minimal()\n\n# Boxplot por sexo\nggplot(esi_trabajo, aes(x = sexo_etiq, y = ing_t_t, fill = sexo_etiq)) +\n  geom_boxplot(alpha = 0.7) +\n  scale_y_continuous(limits = c(0, 2500000)) +\n  theme_minimal()\n\n# 6. TABLAS DE FRECUENCIA ----\n\n# Tabla educaci√≥n\ntable(esi_trabajo$nivel_etiq)\nprop.table(table(esi_trabajo$nivel_etiq)) * 100\n\n# Tabla de contingencia\ntable(esi_trabajo$sexo_etiq, esi_trabajo$nivel_etiq)\n\n# 7. EJERCICIOS CON DATOS SIMULADOS ----\nset.seed(123)\nencuesta <- data.frame(\n  id = 1:100,\n  edad = sample(18:65, 100, replace = TRUE),\n  sexo = sample(c(\"Mujer\", \"Hombre\"), 100, replace = TRUE, prob = c(0.52, 0.48)),\n  educacion = sample(c(\"B√°sica\", \"Media\", \"T√©cnica\", \"Universitaria\", \"Postgrado\"),\n                     100, replace = TRUE, prob = c(0.10, 0.30, 0.25, 0.30, 0.05)),\n  satisfaccion = sample(1:7, 100, replace = TRUE),\n  ingreso = round(rnorm(100, mean = 800000, sd = 300000), -3)\n)\n\n# An√°lisis b√°sico\nsummary(encuesta)\ntable(encuesta$educacion)\n```\n:::\n\n\n\n\n---\n\n::: {.callout-note}\n## Nota final\n\nEsta sesi√≥n establece las bases para todo el curso. Es fundamental que te sientas c√≥modo/a con:\n- La l√≥gica de programaci√≥n en R\n- La manipulaci√≥n b√°sica de datos\n- El c√°lculo e interpretaci√≥n de estad√≠sticos descriptivos\n- La creaci√≥n de visualizaciones\n\nSi alg√∫n concepto no qued√≥ claro, **no dudes en consultar**. Los contenidos son acumulativos y necesitar√°s estas herramientas en todas las sesiones siguientes.\n\n¬°Nos vemos en la Sesi√≥n 2! üöÄ\n:::\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [
      "01-intro_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}